(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ls(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const fe={},nn=[],mt=()=>{},lr=()=>!1,To=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Bs=e=>e.startsWith("onUpdate:"),Ie=Object.assign,Hs=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},la=Object.prototype.hasOwnProperty,le=(e,t)=>la.call(e,t),Y=Array.isArray,on=e=>jn(e)==="[object Map]",Io=e=>jn(e)==="[object Set]",ai=e=>jn(e)==="[object Date]",q=e=>typeof e=="function",_e=e=>typeof e=="string",nt=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",ar=e=>(ce(e)||q(e))&&q(e.then)&&q(e.catch),cr=Object.prototype.toString,jn=e=>cr.call(e),aa=e=>jn(e).slice(8,-1),ur=e=>jn(e)==="[object Object]",So=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mn=Ls(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mo=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},ca=/-\w/g,Je=Mo(e=>e.replace(ca,t=>t.slice(1).toUpperCase())),ua=/\B([A-Z])/g,Bt=Mo(e=>e.replace(ua,"-$1").toLowerCase()),Eo=Mo(e=>e.charAt(0).toUpperCase()+e.slice(1)),es=Mo(e=>e?`on${Eo(e)}`:""),Rt=(e,t)=>!Object.is(e,t),eo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},fr=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},No=e=>{const t=parseFloat(e);return isNaN(t)?e:t},fa=e=>{const t=_e(e)?Number(e):NaN;return isNaN(t)?e:t};let ci;const ko=()=>ci||(ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ot(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=_e(o)?ga(o):ot(o);if(s)for(const i in s)t[i]=s[i]}return t}else if(_e(e)||ce(e))return e}const da=/;(?![^(]*\))/g,pa=/:([^]+)/,ha=/\/\*[^]*?\*\//g;function ga(e){const t={};return e.replace(ha,"").split(da).forEach(n=>{if(n){const o=n.split(pa);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function ke(e){let t="";if(_e(e))t=e;else if(Y(e))for(let n=0;n<e.length;n++){const o=ke(e[n]);o&&(t+=o+" ")}else if(ce(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ma="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",va=Ls(ma);function dr(e){return!!e||e===""}function ya(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=$o(e[o],t[o]);return n}function $o(e,t){if(e===t)return!0;let n=ai(e),o=ai(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=nt(e),o=nt(t),n||o)return e===t;if(n=Y(e),o=Y(t),n||o)return n&&o?ya(e,t):!1;if(n=ce(e),o=ce(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const r in e){const l=e.hasOwnProperty(r),a=t.hasOwnProperty(r);if(l&&!a||!l&&a||!$o(e[r],t[r]))return!1}}return String(e)===String(t)}function ba(e,t){return e.findIndex(n=>$o(n,t))}const pr=e=>!!(e&&e.__v_isRef===!0),re=e=>_e(e)?e:e==null?"":Y(e)||ce(e)&&(e.toString===cr||!q(e.toString))?pr(e)?re(e.value):JSON.stringify(e,hr,2):String(e),hr=(e,t)=>pr(t)?hr(e,t.value):on(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],i)=>(n[ts(o,i)+" =>"]=s,n),{})}:Io(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ts(n))}:nt(t)?ts(t):ce(t)&&!Y(t)&&!ur(t)?String(t):t,ts=(e,t="")=>{var n;return nt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let $e;class _a{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$e,!t&&$e&&(this.index=($e.scopes||($e.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=$e;try{return $e=this,t()}finally{$e=n}}}on(){++this._on===1&&(this.prevScope=$e,$e=this)}off(){this._on>0&&--this._on===0&&($e=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function gr(){return $e}function wa(e,t=!1){$e&&$e.cleanups.push(e)}let ge;const ns=new WeakSet;class mr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$e&&$e.active&&$e.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ns.has(this)&&(ns.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ui(this),br(this);const t=ge,n=tt;ge=this,tt=!0;try{return this.fn()}finally{_r(this),ge=t,tt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Vs(t);this.deps=this.depsTail=void 0,ui(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ns.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hs(this)&&this.run()}get dirty(){return hs(this)}}let vr=0,En,Nn;function yr(e,t=!1){if(e.flags|=8,t){e.next=Nn,Nn=e;return}e.next=En,En=e}function Fs(){vr++}function Gs(){if(--vr>0)return;if(Nn){let t=Nn;for(Nn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;En;){let t=En;for(En=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function br(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _r(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Vs(o),xa(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function hs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(wr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function wr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Rn)||(e.globalVersion=Rn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!hs(e))))return;e.flags|=2;const t=e.dep,n=ge,o=tt;ge=e,tt=!0;try{br(e);const s=e.fn(e._value);(t.version===0||Rt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{ge=n,tt=o,_r(e),e.flags&=-3}}function Vs(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Vs(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function xa(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let tt=!0;const xr=[];function Ct(){xr.push(tt),tt=!1}function Tt(){const e=xr.pop();tt=e===void 0?!0:e}function ui(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ge;ge=void 0;try{t()}finally{ge=n}}}let Rn=0;class Ca{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ge||!tt||ge===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ge)n=this.activeLink=new Ca(ge,this),ge.deps?(n.prevDep=ge.depsTail,ge.depsTail.nextDep=n,ge.depsTail=n):ge.deps=ge.depsTail=n,Cr(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ge.depsTail,n.nextDep=void 0,ge.depsTail.nextDep=n,ge.depsTail=n,ge.deps===n&&(ge.deps=o)}return n}trigger(t){this.version++,Rn++,this.notify(t)}notify(t){Fs();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gs()}}}function Cr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Cr(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ro=new WeakMap,Kt=Symbol(""),gs=Symbol(""),Pn=Symbol("");function Oe(e,t,n){if(tt&&ge){let o=ro.get(e);o||ro.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new Oo),s.map=o,s.key=n),s.track()}}function _t(e,t,n,o,s,i){const r=ro.get(e);if(!r){Rn++;return}const l=a=>{a&&a.trigger()};if(Fs(),t==="clear")r.forEach(l);else{const a=Y(e),u=a&&So(n);if(a&&n==="length"){const c=Number(o);r.forEach((f,d)=>{(d==="length"||d===Pn||!nt(d)&&d>=c)&&l(f)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),u&&l(r.get(Pn)),t){case"add":a?u&&l(r.get("length")):(l(r.get(Kt)),on(e)&&l(r.get(gs)));break;case"delete":a||(l(r.get(Kt)),on(e)&&l(r.get(gs)));break;case"set":on(e)&&l(r.get(Kt));break}}Gs()}function Ta(e,t){const n=ro.get(e);return n&&n.get(t)}function en(e){const t=se(e);return t===e?t:(Oe(t,"iterate",Pn),We(e)?t:t.map(st))}function Ao(e){return Oe(e=se(e),"iterate",Pn),e}function $t(e,t){return It(e)?cn(Yt(e)?st(t):t):st(t)}const Ia={__proto__:null,[Symbol.iterator](){return os(this,Symbol.iterator,e=>$t(this,e))},concat(...e){return en(this).concat(...e.map(t=>Y(t)?en(t):t))},entries(){return os(this,"entries",e=>(e[1]=$t(this,e[1]),e))},every(e,t){return vt(this,"every",e,t,void 0,arguments)},filter(e,t){return vt(this,"filter",e,t,n=>n.map(o=>$t(this,o)),arguments)},find(e,t){return vt(this,"find",e,t,n=>$t(this,n),arguments)},findIndex(e,t){return vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vt(this,"findLast",e,t,n=>$t(this,n),arguments)},findLastIndex(e,t){return vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ss(this,"includes",e)},indexOf(...e){return ss(this,"indexOf",e)},join(e){return en(this).join(e)},lastIndexOf(...e){return ss(this,"lastIndexOf",e)},map(e,t){return vt(this,"map",e,t,void 0,arguments)},pop(){return wn(this,"pop")},push(...e){return wn(this,"push",e)},reduce(e,...t){return fi(this,"reduce",e,t)},reduceRight(e,...t){return fi(this,"reduceRight",e,t)},shift(){return wn(this,"shift")},some(e,t){return vt(this,"some",e,t,void 0,arguments)},splice(...e){return wn(this,"splice",e)},toReversed(){return en(this).toReversed()},toSorted(e){return en(this).toSorted(e)},toSpliced(...e){return en(this).toSpliced(...e)},unshift(...e){return wn(this,"unshift",e)},values(){return os(this,"values",e=>$t(this,e))}};function os(e,t,n){const o=Ao(e),s=o[t]();return o!==e&&!We(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=n(i.value)),i}),s}const Sa=Array.prototype;function vt(e,t,n,o,s,i){const r=Ao(e),l=r!==e&&!We(e),a=r[t];if(a!==Sa[t]){const f=a.apply(e,i);return l?st(f):f}let u=n;r!==e&&(l?u=function(f,d){return n.call(this,$t(e,f),d,e)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,e)}));const c=a.call(r,u,o);return l&&s?s(c):c}function fi(e,t,n,o){const s=Ao(e);let i=n;return s!==e&&(We(e)?n.length>3&&(i=function(r,l,a){return n.call(this,r,l,a,e)}):i=function(r,l,a){return n.call(this,r,$t(e,l),a,e)}),s[t](i,...o)}function ss(e,t,n){const o=se(e);Oe(o,"iterate",Pn);const s=o[t](...n);return(s===-1||s===!1)&&Do(n[0])?(n[0]=se(n[0]),o[t](...n)):s}function wn(e,t,n=[]){Ct(),Fs();const o=se(e)[t].apply(e,n);return Gs(),Tt(),o}const Ma=Ls("__proto__,__v_isRef,__isVue"),Tr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nt));function Ea(e){nt(e)||(e=String(e));const t=se(this);return Oe(t,"has",e),t.hasOwnProperty(e)}class Ir{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(s?i?$r:kr:i?Nr:Er).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=Y(t);if(!s){let a;if(r&&(a=Ia[n]))return a;if(n==="hasOwnProperty")return Ea}const l=Reflect.get(t,n,Te(t)?t:o);if((nt(n)?Tr.has(n):Ma(n))||(s||Oe(t,"get",n),i))return l;if(Te(l)){const a=r&&So(n)?l:l.value;return s&&ce(a)?vs(a):a}return ce(l)?s?vs(l):Ke(l):l}}class Sr extends Ir{constructor(t=!1){super(!1,t)}set(t,n,o,s){let i=t[n];const r=Y(t)&&So(n);if(!this._isShallow){const u=It(i);if(!We(o)&&!It(o)&&(i=se(i),o=se(o)),!r&&Te(i)&&!Te(o))return u||(i.value=o),!0}const l=r?Number(n)<t.length:le(t,n),a=Reflect.set(t,n,o,Te(t)?t:s);return t===se(s)&&(l?Rt(o,i)&&_t(t,"set",n,o):_t(t,"add",n,o)),a}deleteProperty(t,n){const o=le(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&_t(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!nt(n)||!Tr.has(n))&&Oe(t,"has",n),o}ownKeys(t){return Oe(t,"iterate",Y(t)?"length":Kt),Reflect.ownKeys(t)}}class Mr extends Ir{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Na=new Sr,ka=new Mr,$a=new Sr(!0),Oa=new Mr(!0),ms=e=>e,Xn=e=>Reflect.getPrototypeOf(e);function Aa(e,t,n){return function(...o){const s=this.__v_raw,i=se(s),r=on(i),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,u=s[e](...o),c=n?ms:t?cn:st;return!t&&Oe(i,"iterate",a?gs:Kt),Ie(Object.create(u),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:l?[c(f[0]),c(f[1])]:c(f),done:d}}})}}function qn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ra(e,t){const n={get(s){const i=this.__v_raw,r=se(i),l=se(s);e||(Rt(s,l)&&Oe(r,"get",s),Oe(r,"get",l));const{has:a}=Xn(r),u=t?ms:e?cn:st;if(a.call(r,s))return u(i.get(s));if(a.call(r,l))return u(i.get(l));i!==r&&i.get(s)},get size(){const s=this.__v_raw;return!e&&Oe(se(s),"iterate",Kt),s.size},has(s){const i=this.__v_raw,r=se(i),l=se(s);return e||(Rt(s,l)&&Oe(r,"has",s),Oe(r,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const r=this,l=r.__v_raw,a=se(l),u=t?ms:e?cn:st;return!e&&Oe(a,"iterate",Kt),l.forEach((c,f)=>s.call(i,u(c),u(f),r))}};return Ie(n,e?{add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear")}:{add(s){!t&&!We(s)&&!It(s)&&(s=se(s));const i=se(this);return Xn(i).has.call(i,s)||(i.add(s),_t(i,"add",s,s)),this},set(s,i){!t&&!We(i)&&!It(i)&&(i=se(i));const r=se(this),{has:l,get:a}=Xn(r);let u=l.call(r,s);u||(s=se(s),u=l.call(r,s));const c=a.call(r,s);return r.set(s,i),u?Rt(i,c)&&_t(r,"set",s,i):_t(r,"add",s,i),this},delete(s){const i=se(this),{has:r,get:l}=Xn(i);let a=r.call(i,s);a||(s=se(s),a=r.call(i,s)),l&&l.call(i,s);const u=i.delete(s);return a&&_t(i,"delete",s,void 0),u},clear(){const s=se(this),i=s.size!==0,r=s.clear();return i&&_t(s,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Aa(s,e,t)}),n}function Ro(e,t){const n=Ra(e,t);return(o,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(le(n,s)&&s in o?n:o,s,i)}const Pa={get:Ro(!1,!1)},Da={get:Ro(!1,!0)},La={get:Ro(!0,!1)},Ba={get:Ro(!0,!0)},Er=new WeakMap,Nr=new WeakMap,kr=new WeakMap,$r=new WeakMap;function Ha(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fa(e){return e.__v_skip||!Object.isExtensible(e)?0:Ha(aa(e))}function Ke(e){return It(e)?e:Po(e,!1,Na,Pa,Er)}function Ga(e){return Po(e,!1,$a,Da,Nr)}function vs(e){return Po(e,!0,ka,La,kr)}function Va(e){return Po(e,!0,Oa,Ba,$r)}function Po(e,t,n,o,s){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Fa(e);if(i===0)return e;const r=s.get(e);if(r)return r;const l=new Proxy(e,i===2?o:n);return s.set(e,l),l}function Yt(e){return It(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function It(e){return!!(e&&e.__v_isReadonly)}function We(e){return!!(e&&e.__v_isShallow)}function Do(e){return e?!!e.__v_raw:!1}function se(e){const t=e&&e.__v_raw;return t?se(t):e}function xe(e){return!le(e,"__v_skip")&&Object.isExtensible(e)&&fr(e,"__v_skip",!0),e}const st=e=>ce(e)?Ke(e):e,cn=e=>ce(e)?vs(e):e;function Te(e){return e?e.__v_isRef===!0:!1}function W(e){return Or(e,!1)}function di(e){return Or(e,!0)}function Or(e,t){return Te(e)?e:new Ua(e,t)}class Ua{constructor(t,n){this.dep=new Oo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:se(t),this._value=n?t:st(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||We(t)||It(t);t=o?t:se(t),Rt(t,n)&&(this._rawValue=t,this._value=o?t:st(t),this.dep.trigger())}}function ee(e){return Te(e)?e.value:e}function Pt(e){return q(e)?e():ee(e)}const ja={get:(e,t,n)=>t==="__v_raw"?e:ee(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return Te(s)&&!Te(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function Ar(e){return Yt(e)?e:new Proxy(e,ja)}class Wa{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Oo,{get:o,set:s}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function za(e){return new Wa(e)}function Ka(e){const t=Y(e)?new Array(e.length):{};for(const n in e)t[n]=Rr(e,n);return t}class Ya{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0,this._raw=se(t);let s=!0,i=t;if(!Y(t)||!So(String(n)))do s=!Do(i)||We(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=ee(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Te(this._raw[this._key])){const n=this._object[this._key];if(Te(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return Ta(this._raw,this._key)}}class Xa{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function lo(e,t,n){return Te(e)?e:q(e)?new Xa(e):ce(e)&&arguments.length>1?Rr(e,t,n):W(e)}function Rr(e,t,n){return new Ya(e,t,n)}class qa{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Oo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ge!==this)return yr(this,!0),!0}get value(){const t=this.dep.track();return wr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Za(e,t,n=!1){let o,s;return q(e)?o=e:(o=e.get,s=e.set),new qa(o,s,n)}const Zn={},ao=new WeakMap;let jt;function Ja(e,t=!1,n=jt){if(n){let o=ao.get(n);o||ao.set(n,o=[]),o.push(e)}}function Qa(e,t,n=fe){const{immediate:o,deep:s,once:i,scheduler:r,augmentJob:l,call:a}=n,u=M=>s?M:We(M)||s===!1||s===0?wt(M,1):wt(M);let c,f,d,m,h=!1,g=!1;if(Te(e)?(f=()=>e.value,h=We(e)):Yt(e)?(f=()=>u(e),h=!0):Y(e)?(g=!0,h=e.some(M=>Yt(M)||We(M)),f=()=>e.map(M=>{if(Te(M))return M.value;if(Yt(M))return u(M);if(q(M))return a?a(M,2):M()})):q(e)?t?f=a?()=>a(e,2):e:f=()=>{if(d){Ct();try{d()}finally{Tt()}}const M=jt;jt=c;try{return a?a(e,3,[m]):e(m)}finally{jt=M}}:f=mt,t&&s){const M=f,H=s===!0?1/0:s;f=()=>wt(M(),H)}const y=gr(),b=()=>{c.stop(),y&&y.active&&Hs(y.effects,c)};if(i&&t){const M=t;t=(...H)=>{M(...H),b()}}let w=g?new Array(e.length).fill(Zn):Zn;const S=M=>{if(!(!(c.flags&1)||!c.dirty&&!M))if(t){const H=c.run();if(s||h||(g?H.some((O,j)=>Rt(O,w[j])):Rt(H,w))){d&&d();const O=jt;jt=c;try{const j=[H,w===Zn?void 0:g&&w[0]===Zn?[]:w,m];w=H,a?a(t,3,j):t(...j)}finally{jt=O}}}else c.run()};return l&&l(S),c=new mr(f),c.scheduler=r?()=>r(S,!1):S,m=M=>Ja(M,!1,c),d=c.onStop=()=>{const M=ao.get(c);if(M){if(a)a(M,4);else for(const H of M)H();ao.delete(c)}},t?o?S(!0):w=c.run():r?r(S.bind(null,!0),!0):c.run(),b.pause=c.pause.bind(c),b.resume=c.resume.bind(c),b.stop=b,b}function wt(e,t=1/0,n){if(t<=0||!ce(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Te(e))wt(e.value,t,n);else if(Y(e))for(let o=0;o<e.length;o++)wt(e[o],t,n);else if(Io(e)||on(e))e.forEach(o=>{wt(o,t,n)});else if(ur(e)){for(const o in e)wt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&wt(e[o],t,n)}return e}function Wn(e,t,n,o){try{return o?e(...o):e()}catch(s){Lo(s,t,n)}}function it(e,t,n,o){if(q(e)){const s=Wn(e,t,n,o);return s&&ar(s)&&s.catch(i=>{Lo(i,t,n)}),s}if(Y(e)){const s=[];for(let i=0;i<e.length;i++)s.push(it(e[i],t,n,o));return s}}function Lo(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||fe;if(t){let l=t.parent;const a=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const c=l.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,a,u)===!1)return}l=l.parent}if(i){Ct(),Wn(i,null,10,[e,a,u]),Tt();return}}ec(e,n,s,o,r)}function ec(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const De=[];let pt=-1;const sn=[];let Ot=null,tn=0;const Pr=Promise.resolve();let co=null;function mn(e){const t=co||Pr;return e?t.then(this?e.bind(this):e):t}function tc(e){let t=pt+1,n=De.length;for(;t<n;){const o=t+n>>>1,s=De[o],i=Dn(s);i<e||i===e&&s.flags&2?t=o+1:n=o}return t}function Us(e){if(!(e.flags&1)){const t=Dn(e),n=De[De.length-1];!n||!(e.flags&2)&&t>=Dn(n)?De.push(e):De.splice(tc(t),0,e),e.flags|=1,Dr()}}function Dr(){co||(co=Pr.then(Br))}function nc(e){Y(e)?sn.push(...e):Ot&&e.id===-1?Ot.splice(tn+1,0,e):e.flags&1||(sn.push(e),e.flags|=1),Dr()}function pi(e,t,n=pt+1){for(;n<De.length;n++){const o=De[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;De.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Lr(e){if(sn.length){const t=[...new Set(sn)].sort((n,o)=>Dn(n)-Dn(o));if(sn.length=0,Ot){Ot.push(...t);return}for(Ot=t,tn=0;tn<Ot.length;tn++){const n=Ot[tn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ot=null,tn=0}}const Dn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Br(e){try{for(pt=0;pt<De.length;pt++){const t=De[pt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Wn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;pt<De.length;pt++){const t=De[pt];t&&(t.flags&=-2)}pt=-1,De.length=0,Lr(),co=null,(De.length||sn.length)&&Br()}}let Ne=null,Hr=null;function uo(e){const t=Ne;return Ne=e,Hr=e&&e.type.__scopeId||null,t}function Jt(e,t=Ne,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&ho(-1);const i=uo(t);let r;try{r=e(...s)}finally{uo(i),o._d&&ho(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function Dt(e,t){if(Ne===null)return e;const n=Yo(Ne),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,r,l,a=fe]=t[s];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&wt(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function Ft(e,t,n,o){const s=e.dirs,i=t&&t.dirs;for(let r=0;r<s.length;r++){const l=s[r];i&&(l.oldValue=i[r].value);let a=l.dir[o];a&&(Ct(),it(a,n,8,[e.el,l,e,t]),Tt())}}function Bo(e,t){if(Re){let n=Re.provides;const o=Re.parent&&Re.parent.provides;o===n&&(n=Re.provides=Object.create(o)),n[e]=t}}function Xt(e,t,n=!1){const o=Ys();if(o||ln){let s=ln?ln._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&q(t)?t.call(o&&o.proxy):t}}const oc=Symbol.for("v-scx"),sc=()=>Xt(oc);function Ze(e,t,n){return Fr(e,t,n)}function Fr(e,t,n=fe){const{immediate:o,deep:s,flush:i,once:r}=n,l=Ie({},n),a=t&&o||!t&&i!=="post";let u;if(Fn){if(i==="sync"){const m=sc();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!a){const m=()=>{};return m.stop=mt,m.resume=mt,m.pause=mt,m}}const c=Re;l.call=(m,h,g)=>it(m,c,h,g);let f=!1;i==="post"?l.scheduler=m=>{Ue(m,c&&c.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(m,h)=>{h?m():Us(m)}),l.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,c&&(m.id=c.uid,m.i=c))};const d=Qa(e,t,l);return Fn&&(u?u.push(d):a&&d()),d}function ic(e,t,n){const o=this.proxy,s=_e(e)?e.includes(".")?Gr(o,e):()=>o[e]:e.bind(o,o);let i;q(t)?i=t:(i=t.handler,n=t);const r=Kn(this),l=Fr(s,i.bind(o),n);return r(),l}function Gr(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const rc=Symbol("_vte"),Vr=e=>e.__isTeleport,bt=Symbol("_leaveCb"),Jn=Symbol("_enterCb");function Ur(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ht(()=>{e.isMounted=!0}),zn(()=>{e.isUnmounting=!0}),e}const Xe=[Function,Array],jr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Xe,onEnter:Xe,onAfterEnter:Xe,onEnterCancelled:Xe,onBeforeLeave:Xe,onLeave:Xe,onAfterLeave:Xe,onLeaveCancelled:Xe,onBeforeAppear:Xe,onAppear:Xe,onAfterAppear:Xe,onAppearCancelled:Xe},Wr=e=>{const t=e.subTree;return t.component?Wr(t.component):t},lc={name:"BaseTransition",props:jr,setup(e,{slots:t}){const n=Ys(),o=Ur();return()=>{const s=t.default&&js(t.default(),!0);if(!s||!s.length)return;const i=zr(s),r=se(e),{mode:l}=r;if(o.isLeaving)return is(i);const a=hi(i);if(!a)return is(i);let u=Ln(a,r,o,n,f=>u=f);a.type!==Ae&&Zt(a,u);let c=n.subTree&&hi(n.subTree);if(c&&c.type!==Ae&&!Wt(c,a)&&Wr(n).type!==Ae){let f=Ln(c,r,o,n);if(Zt(c,f),l==="out-in"&&a.type!==Ae)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},is(i);l==="in-out"&&a.type!==Ae?f.delayLeave=(d,m,h)=>{const g=Kr(o,c);g[String(c.key)]=c,d[bt]=()=>{m(),d[bt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{h(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function zr(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Ae){t=n;break}}return t}const ac=lc;function Kr(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Ln(e,t,n,o,s){const{appear:i,mode:r,persisted:l=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:m,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:y,onAppear:b,onAfterAppear:w,onAppearCancelled:S}=t,M=String(e.key),H=Kr(n,e),O=(_,P)=>{_&&it(_,o,9,P)},j=(_,P)=>{const L=P[1];O(_,P),Y(_)?_.every(C=>C.length<=1)&&L():_.length<=1&&L()},A={mode:r,persisted:l,beforeEnter(_){let P=a;if(!n.isMounted)if(i)P=y||a;else return;_[bt]&&_[bt](!0);const L=H[M];L&&Wt(e,L)&&L.el[bt]&&L.el[bt](),O(P,[_])},enter(_){let P=u,L=c,C=f;if(!n.isMounted)if(i)P=b||u,L=w||c,C=S||f;else return;let F=!1;const z=_[Jn]=ue=>{F||(F=!0,ue?O(C,[_]):O(L,[_]),A.delayedLeave&&A.delayedLeave(),_[Jn]=void 0)};P?j(P,[_,z]):z()},leave(_,P){const L=String(e.key);if(_[Jn]&&_[Jn](!0),n.isUnmounting)return P();O(d,[_]);let C=!1;const F=_[bt]=z=>{C||(C=!0,P(),z?O(g,[_]):O(h,[_]),_[bt]=void 0,H[L]===e&&delete H[L])};H[L]=e,m?j(m,[_,F]):F()},clone(_){const P=Ln(_,t,n,o,s);return s&&s(P),P}};return A}function is(e){if(Ho(e))return e=Lt(e),e.children=null,e}function hi(e){if(!Ho(e))return Vr(e.type)&&e.children?zr(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&q(n.default))return n.default()}}function Zt(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Zt(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function js(e,t=!1,n){let o=[],s=0;for(let i=0;i<e.length;i++){let r=e[i];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===J?(r.patchFlag&128&&s++,o=o.concat(js(r.children,t,l))):(t||r.type!==Ae)&&o.push(l!=null?Lt(r,{key:l}):r)}if(s>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function de(e,t){return q(e)?Ie({name:e.name},t,{setup:e}):e}function Yr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const fo=new WeakMap;function kn(e,t,n,o,s=!1){if(Y(e)){e.forEach((h,g)=>kn(h,t&&(Y(t)?t[g]:t),n,o,s));return}if(rn(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&kn(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?Yo(o.component):o.el,r=s?null:i,{i:l,r:a}=e,u=t&&t.r,c=l.refs===fe?l.refs={}:l.refs,f=l.setupState,d=se(f),m=f===fe?lr:h=>le(d,h);if(u!=null&&u!==a){if(gi(t),_e(u))c[u]=null,m(u)&&(f[u]=null);else if(Te(u)){u.value=null;const h=t;h.k&&(c[h.k]=null)}}if(q(a))Wn(a,l,12,[r,c]);else{const h=_e(a),g=Te(a);if(h||g){const y=()=>{if(e.f){const b=h?m(a)?f[a]:c[a]:a.value;if(s)Y(b)&&Hs(b,i);else if(Y(b))b.includes(i)||b.push(i);else if(h)c[a]=[i],m(a)&&(f[a]=c[a]);else{const w=[i];a.value=w,e.k&&(c[e.k]=w)}}else h?(c[a]=r,m(a)&&(f[a]=r)):g&&(a.value=r,e.k&&(c[e.k]=r))};if(r){const b=()=>{y(),fo.delete(e)};b.id=-1,fo.set(e,b),Ue(b,n)}else gi(e),y()}}}function gi(e){const t=fo.get(e);t&&(t.flags|=8,fo.delete(e))}ko().requestIdleCallback;ko().cancelIdleCallback;const rn=e=>!!e.type.__asyncLoader,Ho=e=>e.type.__isKeepAlive;function cc(e,t){Xr(e,"a",t)}function uc(e,t){Xr(e,"da",t)}function Xr(e,t,n=Re){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Fo(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Ho(s.parent.vnode)&&fc(o,t,n,s),s=s.parent}}function fc(e,t,n,o){const s=Fo(t,e,o,!0);Vo(()=>{Hs(o[t],s)},n)}function Fo(e,t,n=Re,o=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Ct();const l=Kn(n),a=it(t,n,e,r);return l(),Tt(),a});return o?s.unshift(i):s.push(i),i}}const St=e=>(t,n=Re)=>{(!Fn||e==="sp")&&Fo(e,(...o)=>t(...o),n)},dc=St("bm"),Ht=St("m"),pc=St("bu"),Go=St("u"),zn=St("bum"),Vo=St("um"),hc=St("sp"),gc=St("rtg"),mc=St("rtc");function vc(e,t=Re){Fo("ec",e,t)}const qr="components";function un(e,t){return Jr(qr,e,!0,t)||e}const Zr=Symbol.for("v-ndc");function Uo(e){return _e(e)?Jr(qr,e,!1)||e:e||Zr}function Jr(e,t,n=!0,o=!1){const s=Ne||Re;if(s){const i=s.type;{const l=tu(i,!1);if(l&&(l===t||l===Je(t)||l===Eo(Je(t))))return i}const r=mi(s[e]||i[e],t)||mi(s.appContext[e],t);return!r&&o?i:r}}function mi(e,t){return e&&(e[t]||e[Je(t)]||e[Eo(Je(t))])}function be(e,t,n,o){let s;const i=n,r=Y(e);if(r||_e(e)){const l=r&&Yt(e);let a=!1,u=!1;l&&(a=!We(e),u=It(e),e=Ao(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(a?u?cn(st(e[c])):st(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let l=0;l<e;l++)s[l]=t(l+1,l,void 0,i)}else if(ce(e))if(e[Symbol.iterator])s=Array.from(e,(l,a)=>t(l,a,void 0,i));else{const l=Object.keys(e);s=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];s[a]=t(e[c],c,a,i)}}else s=[];return s}function Ge(e,t,n={},o,s){if(Ne.ce||Ne.parent&&rn(Ne.parent)&&Ne.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),I(),me(J,null,[te("slot",n,o&&o())],u?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),I();const r=i&&Qr(i(n)),l=n.key||r&&r.key,a=me(J,{key:(l&&!nt(l)?l:`_${t}`)+(!r&&o?"_fb":"")},r||(o?o():[]),r&&e._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Qr(e){return e.some(t=>Hn(t)?!(t.type===Ae||t.type===J&&!Qr(t.children)):!0)?e:null}const ys=e=>e?yl(e)?Yo(e):ys(e.parent):null,$n=Ie(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ys(e.parent),$root:e=>ys(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>tl(e),$forceUpdate:e=>e.f||(e.f=()=>{Us(e.update)}),$nextTick:e=>e.n||(e.n=mn.bind(e.proxy)),$watch:e=>ic.bind(e)}),rs=(e,t)=>e!==fe&&!e.__isScriptSetup&&le(e,t),yc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:i,accessCache:r,type:l,appContext:a}=e;if(t[0]!=="$"){const d=r[t];if(d!==void 0)switch(d){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(rs(o,t))return r[t]=1,o[t];if(s!==fe&&le(s,t))return r[t]=2,s[t];if(le(i,t))return r[t]=3,i[t];if(n!==fe&&le(n,t))return r[t]=4,n[t];bs&&(r[t]=0)}}const u=$n[t];let c,f;if(u)return t==="$attrs"&&Oe(e.attrs,"get",""),u(e);if((c=l.__cssModules)&&(c=c[t]))return c;if(n!==fe&&le(n,t))return r[t]=4,n[t];if(f=a.config.globalProperties,le(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:i}=e;return rs(s,t)?(s[t]=n,!0):o!==fe&&le(o,t)?(o[t]=n,!0):le(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,props:i,type:r}},l){let a;return!!(n[l]||e!==fe&&l[0]!=="$"&&le(e,l)||rs(t,l)||le(i,l)||le(o,l)||le($n,l)||le(s.config.globalProperties,l)||(a=r.__cssModules)&&a[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:le(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function vi(e){return Y(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let bs=!0;function bc(e){const t=tl(e),n=e.proxy,o=e.ctx;bs=!1,t.beforeCreate&&yi(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:r,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:m,updated:h,activated:g,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:S,unmounted:M,render:H,renderTracked:O,renderTriggered:j,errorCaptured:A,serverPrefetch:_,expose:P,inheritAttrs:L,components:C,directives:F,filters:z}=t;if(u&&_c(u,o,null),r)for(const ne in r){const ie=r[ne];q(ie)&&(o[ne]=ie.bind(n))}if(s){const ne=s.call(n,n);ce(ne)&&(e.data=Ke(ne))}if(bs=!0,i)for(const ne in i){const ie=i[ne],Ye=q(ie)?ie.bind(n,n):q(ie.get)?ie.get.bind(n,n):mt,Mt=!q(ie)&&q(ie.set)?ie.set.bind(n):mt,rt=V({get:Ye,set:Mt});Object.defineProperty(o,ne,{enumerable:!0,configurable:!0,get:()=>rt.value,set:lt=>rt.value=lt})}if(l)for(const ne in l)el(l[ne],o,n,ne);if(a){const ne=q(a)?a.call(n):a;Reflect.ownKeys(ne).forEach(ie=>{Bo(ie,ne[ie])})}c&&yi(c,e,"c");function Q(ne,ie){Y(ie)?ie.forEach(Ye=>ne(Ye.bind(n))):ie&&ne(ie.bind(n))}if(Q(dc,f),Q(Ht,d),Q(pc,m),Q(Go,h),Q(cc,g),Q(uc,y),Q(vc,A),Q(mc,O),Q(gc,j),Q(zn,w),Q(Vo,M),Q(hc,_),Y(P))if(P.length){const ne=e.exposed||(e.exposed={});P.forEach(ie=>{Object.defineProperty(ne,ie,{get:()=>n[ie],set:Ye=>n[ie]=Ye,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===mt&&(e.render=H),L!=null&&(e.inheritAttrs=L),C&&(e.components=C),F&&(e.directives=F),_&&Yr(e)}function _c(e,t,n=mt){Y(e)&&(e=_s(e));for(const o in e){const s=e[o];let i;ce(s)?"default"in s?i=Xt(s.from||o,s.default,!0):i=Xt(s.from||o):i=Xt(s),Te(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function yi(e,t,n){it(Y(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function el(e,t,n,o){let s=o.includes(".")?Gr(n,o):()=>n[o];if(_e(e)){const i=t[e];q(i)&&Ze(s,i)}else if(q(e))Ze(s,e.bind(n));else if(ce(e))if(Y(e))e.forEach(i=>el(i,t,n,o));else{const i=q(e.handler)?e.handler.bind(n):t[e.handler];q(i)&&Ze(s,i,e)}}function tl(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let a;return l?a=l:!s.length&&!n&&!o?a=t:(a={},s.length&&s.forEach(u=>po(a,u,r,!0)),po(a,t,r)),ce(t)&&i.set(t,a),a}function po(e,t,n,o=!1){const{mixins:s,extends:i}=t;i&&po(e,i,n,!0),s&&s.forEach(r=>po(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const l=wc[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const wc={data:bi,props:_i,emits:_i,methods:In,computed:In,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:In,directives:In,watch:Cc,provide:bi,inject:xc};function bi(e,t){return t?e?function(){return Ie(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function xc(e,t){return In(_s(e),_s(t))}function _s(e){if(Y(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pe(e,t){return e?[...new Set([].concat(e,t))]:t}function In(e,t){return e?Ie(Object.create(null),e,t):t}function _i(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Ie(Object.create(null),vi(e),vi(t??{})):t}function Cc(e,t){if(!e)return t;if(!t)return e;const n=Ie(Object.create(null),e);for(const o in t)n[o]=Pe(e[o],t[o]);return n}function nl(){return{app:null,config:{isNativeTag:lr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tc=0;function Ic(e,t){return function(o,s=null){q(o)||(o=Ie({},o)),s!=null&&!ce(s)&&(s=null);const i=nl(),r=new WeakSet,l=[];let a=!1;const u=i.app={_uid:Tc++,_component:o,_props:s,_container:null,_context:i,_instance:null,version:su,get config(){return i.config},set config(c){},use(c,...f){return r.has(c)||(c&&q(c.install)?(r.add(c),c.install(u,...f)):q(c)&&(r.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,d){if(!a){const m=u._ceVNode||te(o,s);return m.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(m,c,d),a=!0,u._container=c,c.__vue_app__=u,Yo(m.component)}},onUnmount(c){l.push(c)},unmount(){a&&(it(l,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=ln;ln=u;try{return c()}finally{ln=f}}};return u}}let ln=null;const Sc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Je(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function Mc(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||fe;let s=n;const i=t.startsWith("update:"),r=i&&Sc(o,t.slice(7));r&&(r.trim&&(s=n.map(c=>_e(c)?c.trim():c)),r.number&&(s=n.map(No)));let l,a=o[l=es(t)]||o[l=es(Je(t))];!a&&i&&(a=o[l=es(Bt(t))]),a&&it(a,e,6,s);const u=o[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,it(u,e,6,s)}}const Ec=new WeakMap;function ol(e,t,n=!1){const o=n?Ec:t.emitsCache,s=o.get(e);if(s!==void 0)return s;const i=e.emits;let r={},l=!1;if(!q(e)){const a=u=>{const c=ol(u,t,!0);c&&(l=!0,Ie(r,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!i&&!l?(ce(e)&&o.set(e,null),null):(Y(i)?i.forEach(a=>r[a]=null):Ie(r,i),ce(e)&&o.set(e,r),r)}function jo(e,t){return!e||!To(t)?!1:(t=t.slice(2).replace(/Once$/,""),le(e,t[0].toLowerCase()+t.slice(1))||le(e,Bt(t))||le(e,t))}function wi(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[i],slots:r,attrs:l,emit:a,render:u,renderCache:c,props:f,data:d,setupState:m,ctx:h,inheritAttrs:g}=e,y=uo(e);let b,w;try{if(n.shapeFlag&4){const M=s||o,H=M;b=gt(u.call(H,M,c,f,m,d,h)),w=l}else{const M=t;b=gt(M.length>1?M(f,{attrs:l,slots:r,emit:a}):M(f,null)),w=t.props?l:Nc(l)}}catch(M){On.length=0,Lo(M,e,1),b=te(Ae)}let S=b;if(w&&g!==!1){const M=Object.keys(w),{shapeFlag:H}=S;M.length&&H&7&&(i&&M.some(Bs)&&(w=kc(w,i)),S=Lt(S,w,!1,!0))}return n.dirs&&(S=Lt(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&Zt(S,n.transition),b=S,uo(y),b}const Nc=e=>{let t;for(const n in e)(n==="class"||n==="style"||To(n))&&((t||(t={}))[n]=e[n]);return t},kc=(e,t)=>{const n={};for(const o in e)(!Bs(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function $c(e,t,n){const{props:o,children:s,component:i}=e,{props:r,children:l,patchFlag:a}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?xi(o,r,u):!!r;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(r[d]!==o[d]&&!jo(u,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?xi(o,r,u):!0:!!r;return!1}function xi(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const i=o[s];if(t[i]!==e[i]&&!jo(n,i))return!0}return!1}function Oc({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const sl={},il=()=>Object.create(sl),rl=e=>Object.getPrototypeOf(e)===sl;function Ac(e,t,n,o=!1){const s={},i=il();e.propsDefaults=Object.create(null),ll(e,t,s,i);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);n?e.props=o?s:Ga(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Rc(e,t,n,o){const{props:s,attrs:i,vnode:{patchFlag:r}}=e,l=se(s),[a]=e.propsOptions;let u=!1;if((o||r>0)&&!(r&16)){if(r&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(jo(e.emitsOptions,d))continue;const m=t[d];if(a)if(le(i,d))m!==i[d]&&(i[d]=m,u=!0);else{const h=Je(d);s[h]=ws(a,l,h,m,e,!1)}else m!==i[d]&&(i[d]=m,u=!0)}}}else{ll(e,t,s,i)&&(u=!0);let c;for(const f in l)(!t||!le(t,f)&&((c=Bt(f))===f||!le(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(s[f]=ws(a,l,f,void 0,e,!0)):delete s[f]);if(i!==l)for(const f in i)(!t||!le(t,f))&&(delete i[f],u=!0)}u&&_t(e.attrs,"set","")}function ll(e,t,n,o){const[s,i]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(Mn(a))continue;const u=t[a];let c;s&&le(s,c=Je(a))?!i||!i.includes(c)?n[c]=u:(l||(l={}))[c]=u:jo(e.emitsOptions,a)||(!(a in o)||u!==o[a])&&(o[a]=u,r=!0)}if(i){const a=se(n),u=l||fe;for(let c=0;c<i.length;c++){const f=i[c];n[f]=ws(s,a,f,u[f],e,!le(u,f))}}return r}function ws(e,t,n,o,s,i){const r=e[n];if(r!=null){const l=le(r,"default");if(l&&o===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&q(a)){const{propsDefaults:u}=s;if(n in u)o=u[n];else{const c=Kn(s);o=u[n]=a.call(null,t),c()}}else o=a;s.ce&&s.ce._setProp(n,o)}r[0]&&(i&&!l?o=!1:r[1]&&(o===""||o===Bt(n))&&(o=!0))}return o}const Pc=new WeakMap;function al(e,t,n=!1){const o=n?Pc:t.propsCache,s=o.get(e);if(s)return s;const i=e.props,r={},l=[];let a=!1;if(!q(e)){const c=f=>{a=!0;const[d,m]=al(f,t,!0);Ie(r,d),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!a)return ce(e)&&o.set(e,nn),nn;if(Y(i))for(let c=0;c<i.length;c++){const f=Je(i[c]);Ci(f)&&(r[f]=fe)}else if(i)for(const c in i){const f=Je(c);if(Ci(f)){const d=i[c],m=r[f]=Y(d)||q(d)?{type:d}:Ie({},d),h=m.type;let g=!1,y=!0;if(Y(h))for(let b=0;b<h.length;++b){const w=h[b],S=q(w)&&w.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(y=!1)}else g=q(h)&&h.name==="Boolean";m[0]=g,m[1]=y,(g||le(m,"default"))&&l.push(f)}}const u=[r,l];return ce(e)&&o.set(e,u),u}function Ci(e){return e[0]!=="$"&&!Mn(e)}const Ws=e=>e==="_"||e==="_ctx"||e==="$stable",zs=e=>Y(e)?e.map(gt):[gt(e)],Dc=(e,t,n)=>{if(t._n)return t;const o=Jt((...s)=>zs(t(...s)),n);return o._c=!1,o},cl=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Ws(s))continue;const i=e[s];if(q(i))t[s]=Dc(s,i,o);else if(i!=null){const r=zs(i);t[s]=()=>r}}},ul=(e,t)=>{const n=zs(t);e.slots.default=()=>n},fl=(e,t,n)=>{for(const o in t)(n||!Ws(o))&&(e[o]=t[o])},Lc=(e,t,n)=>{const o=e.slots=il();if(e.vnode.shapeFlag&32){const s=t._;s?(fl(o,t,n),n&&fr(o,"_",s,!0)):cl(t,o)}else t&&ul(e,t)},Bc=(e,t,n)=>{const{vnode:o,slots:s}=e;let i=!0,r=fe;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:fl(s,t,n):(i=!t.$stable,cl(t,s)),r=t}else t&&(ul(e,t),r={default:1});if(i)for(const l in s)!Ws(l)&&r[l]==null&&delete s[l]},Ue=Uc;function Hc(e){return Fc(e)}function Fc(e,t){const n=ko();n.__VUE__=!0;const{insert:o,remove:s,patchProp:i,createElement:r,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:m=mt,insertStaticContent:h}=e,g=(p,v,x,$=null,E=null,N=null,G=void 0,B=null,D=!!v.dynamicChildren)=>{if(p===v)return;p&&!Wt(p,v)&&($=Yn(p),lt(p,E,N,!0),p=null),v.patchFlag===-2&&(D=!1,v.dynamicChildren=null);const{type:k,ref:X,shapeFlag:U}=v;switch(k){case Wo:y(p,v,x,$);break;case Ae:b(p,v,x,$);break;case to:p==null&&w(v,x,$,G);break;case J:C(p,v,x,$,E,N,G,B,D);break;default:U&1?H(p,v,x,$,E,N,G,B,D):U&6?F(p,v,x,$,E,N,G,B,D):(U&64||U&128)&&k.process(p,v,x,$,E,N,G,B,D,bn)}X!=null&&E?kn(X,p&&p.ref,N,v||p,!v):X==null&&p&&p.ref!=null&&kn(p.ref,null,N,p,!0)},y=(p,v,x,$)=>{if(p==null)o(v.el=l(v.children),x,$);else{const E=v.el=p.el;v.children!==p.children&&u(E,v.children)}},b=(p,v,x,$)=>{p==null?o(v.el=a(v.children||""),x,$):v.el=p.el},w=(p,v,x,$)=>{[p.el,p.anchor]=h(p.children,v,x,$,p.el,p.anchor)},S=({el:p,anchor:v},x,$)=>{let E;for(;p&&p!==v;)E=d(p),o(p,x,$),p=E;o(v,x,$)},M=({el:p,anchor:v})=>{let x;for(;p&&p!==v;)x=d(p),s(p),p=x;s(v)},H=(p,v,x,$,E,N,G,B,D)=>{if(v.type==="svg"?G="svg":v.type==="math"&&(G="mathml"),p==null)O(v,x,$,E,N,G,B,D);else{const k=p.el&&p.el._isVueCE?p.el:null;try{k&&k._beginPatch(),_(p,v,E,N,G,B,D)}finally{k&&k._endPatch()}}},O=(p,v,x,$,E,N,G,B)=>{let D,k;const{props:X,shapeFlag:U,transition:K,dirs:Z}=p;if(D=p.el=r(p.type,N,X&&X.is,X),U&8?c(D,p.children):U&16&&A(p.children,D,null,$,E,ls(p,N),G,B),Z&&Ft(p,null,$,"created"),j(D,p,p.scopeId,G,$),X){for(const pe in X)pe!=="value"&&!Mn(pe)&&i(D,pe,null,X[pe],N,$);"value"in X&&i(D,"value",null,X.value,N),(k=X.onVnodeBeforeMount)&&ft(k,$,p)}Z&&Ft(p,null,$,"beforeMount");const oe=Gc(E,K);oe&&K.beforeEnter(D),o(D,v,x),((k=X&&X.onVnodeMounted)||oe||Z)&&Ue(()=>{k&&ft(k,$,p),oe&&K.enter(D),Z&&Ft(p,null,$,"mounted")},E)},j=(p,v,x,$,E)=>{if(x&&m(p,x),$)for(let N=0;N<$.length;N++)m(p,$[N]);if(E){let N=E.subTree;if(v===N||gl(N.type)&&(N.ssContent===v||N.ssFallback===v)){const G=E.vnode;j(p,G,G.scopeId,G.slotScopeIds,E.parent)}}},A=(p,v,x,$,E,N,G,B,D=0)=>{for(let k=D;k<p.length;k++){const X=p[k]=B?At(p[k]):gt(p[k]);g(null,X,v,x,$,E,N,G,B)}},_=(p,v,x,$,E,N,G)=>{const B=v.el=p.el;let{patchFlag:D,dynamicChildren:k,dirs:X}=v;D|=p.patchFlag&16;const U=p.props||fe,K=v.props||fe;let Z;if(x&&Gt(x,!1),(Z=K.onVnodeBeforeUpdate)&&ft(Z,x,v,p),X&&Ft(v,p,x,"beforeUpdate"),x&&Gt(x,!0),(U.innerHTML&&K.innerHTML==null||U.textContent&&K.textContent==null)&&c(B,""),k?P(p.dynamicChildren,k,B,x,$,ls(v,E),N):G||ie(p,v,B,null,x,$,ls(v,E),N,!1),D>0){if(D&16)L(B,U,K,x,E);else if(D&2&&U.class!==K.class&&i(B,"class",null,K.class,E),D&4&&i(B,"style",U.style,K.style,E),D&8){const oe=v.dynamicProps;for(let pe=0;pe<oe.length;pe++){const ae=oe[pe],He=U[ae],Fe=K[ae];(Fe!==He||ae==="value")&&i(B,ae,He,Fe,E,x)}}D&1&&p.children!==v.children&&c(B,v.children)}else!G&&k==null&&L(B,U,K,x,E);((Z=K.onVnodeUpdated)||X)&&Ue(()=>{Z&&ft(Z,x,v,p),X&&Ft(v,p,x,"updated")},$)},P=(p,v,x,$,E,N,G)=>{for(let B=0;B<v.length;B++){const D=p[B],k=v[B],X=D.el&&(D.type===J||!Wt(D,k)||D.shapeFlag&198)?f(D.el):x;g(D,k,X,null,$,E,N,G,!0)}},L=(p,v,x,$,E)=>{if(v!==x){if(v!==fe)for(const N in v)!Mn(N)&&!(N in x)&&i(p,N,v[N],null,E,$);for(const N in x){if(Mn(N))continue;const G=x[N],B=v[N];G!==B&&N!=="value"&&i(p,N,B,G,E,$)}"value"in x&&i(p,"value",v.value,x.value,E)}},C=(p,v,x,$,E,N,G,B,D)=>{const k=v.el=p?p.el:l(""),X=v.anchor=p?p.anchor:l("");let{patchFlag:U,dynamicChildren:K,slotScopeIds:Z}=v;Z&&(B=B?B.concat(Z):Z),p==null?(o(k,x,$),o(X,x,$),A(v.children||[],x,X,E,N,G,B,D)):U>0&&U&64&&K&&p.dynamicChildren&&p.dynamicChildren.length===K.length?(P(p.dynamicChildren,K,x,E,N,G,B),(v.key!=null||E&&v===E.subTree)&&dl(p,v,!0)):ie(p,v,x,X,E,N,G,B,D)},F=(p,v,x,$,E,N,G,B,D)=>{v.slotScopeIds=B,p==null?v.shapeFlag&512?E.ctx.activate(v,x,$,G,D):z(v,x,$,E,N,G,D):ue(p,v,D)},z=(p,v,x,$,E,N,G)=>{const B=p.component=qc(p,$,E);if(Ho(p)&&(B.ctx.renderer=bn),Zc(B,!1,G),B.asyncDep){if(E&&E.registerDep(B,Q,G),!p.el){const D=B.subTree=te(Ae);b(null,D,v,x),p.placeholder=D.el}}else Q(B,p,v,x,E,N,G)},ue=(p,v,x)=>{const $=v.component=p.component;if($c(p,v,x))if($.asyncDep&&!$.asyncResolved){ne($,v,x);return}else $.next=v,$.update();else v.el=p.el,$.vnode=v},Q=(p,v,x,$,E,N,G)=>{const B=()=>{if(p.isMounted){let{next:U,bu:K,u:Z,parent:oe,vnode:pe}=p;{const ct=pl(p);if(ct){U&&(U.el=pe.el,ne(p,U,G)),ct.asyncDep.then(()=>{p.isUnmounted||B()});return}}let ae=U,He;Gt(p,!1),U?(U.el=pe.el,ne(p,U,G)):U=pe,K&&eo(K),(He=U.props&&U.props.onVnodeBeforeUpdate)&&ft(He,oe,U,pe),Gt(p,!0);const Fe=wi(p),at=p.subTree;p.subTree=Fe,g(at,Fe,f(at.el),Yn(at),p,E,N),U.el=Fe.el,ae===null&&Oc(p,Fe.el),Z&&Ue(Z,E),(He=U.props&&U.props.onVnodeUpdated)&&Ue(()=>ft(He,oe,U,pe),E)}else{let U;const{el:K,props:Z}=v,{bm:oe,m:pe,parent:ae,root:He,type:Fe}=p,at=rn(v);Gt(p,!1),oe&&eo(oe),!at&&(U=Z&&Z.onVnodeBeforeMount)&&ft(U,ae,v),Gt(p,!0);{He.ce&&He.ce._def.shadowRoot!==!1&&He.ce._injectChildStyle(Fe);const ct=p.subTree=wi(p);g(null,ct,x,$,p,E,N),v.el=ct.el}if(pe&&Ue(pe,E),!at&&(U=Z&&Z.onVnodeMounted)){const ct=v;Ue(()=>ft(U,ae,ct),E)}(v.shapeFlag&256||ae&&rn(ae.vnode)&&ae.vnode.shapeFlag&256)&&p.a&&Ue(p.a,E),p.isMounted=!0,v=x=$=null}};p.scope.on();const D=p.effect=new mr(B);p.scope.off();const k=p.update=D.run.bind(D),X=p.job=D.runIfDirty.bind(D);X.i=p,X.id=p.uid,D.scheduler=()=>Us(X),Gt(p,!0),k()},ne=(p,v,x)=>{v.component=p;const $=p.vnode.props;p.vnode=v,p.next=null,Rc(p,v.props,$,x),Bc(p,v.children,x),Ct(),pi(p),Tt()},ie=(p,v,x,$,E,N,G,B,D=!1)=>{const k=p&&p.children,X=p?p.shapeFlag:0,U=v.children,{patchFlag:K,shapeFlag:Z}=v;if(K>0){if(K&128){Mt(k,U,x,$,E,N,G,B,D);return}else if(K&256){Ye(k,U,x,$,E,N,G,B,D);return}}Z&8?(X&16&&yn(k,E,N),U!==k&&c(x,U)):X&16?Z&16?Mt(k,U,x,$,E,N,G,B,D):yn(k,E,N,!0):(X&8&&c(x,""),Z&16&&A(U,x,$,E,N,G,B,D))},Ye=(p,v,x,$,E,N,G,B,D)=>{p=p||nn,v=v||nn;const k=p.length,X=v.length,U=Math.min(k,X);let K;for(K=0;K<U;K++){const Z=v[K]=D?At(v[K]):gt(v[K]);g(p[K],Z,x,null,E,N,G,B,D)}k>X?yn(p,E,N,!0,!1,U):A(v,x,$,E,N,G,B,D,U)},Mt=(p,v,x,$,E,N,G,B,D)=>{let k=0;const X=v.length;let U=p.length-1,K=X-1;for(;k<=U&&k<=K;){const Z=p[k],oe=v[k]=D?At(v[k]):gt(v[k]);if(Wt(Z,oe))g(Z,oe,x,null,E,N,G,B,D);else break;k++}for(;k<=U&&k<=K;){const Z=p[U],oe=v[K]=D?At(v[K]):gt(v[K]);if(Wt(Z,oe))g(Z,oe,x,null,E,N,G,B,D);else break;U--,K--}if(k>U){if(k<=K){const Z=K+1,oe=Z<X?v[Z].el:$;for(;k<=K;)g(null,v[k]=D?At(v[k]):gt(v[k]),x,oe,E,N,G,B,D),k++}}else if(k>K)for(;k<=U;)lt(p[k],E,N,!0),k++;else{const Z=k,oe=k,pe=new Map;for(k=oe;k<=K;k++){const Ve=v[k]=D?At(v[k]):gt(v[k]);Ve.key!=null&&pe.set(Ve.key,k)}let ae,He=0;const Fe=K-oe+1;let at=!1,ct=0;const _n=new Array(Fe);for(k=0;k<Fe;k++)_n[k]=0;for(k=Z;k<=U;k++){const Ve=p[k];if(He>=Fe){lt(Ve,E,N,!0);continue}let ut;if(Ve.key!=null)ut=pe.get(Ve.key);else for(ae=oe;ae<=K;ae++)if(_n[ae-oe]===0&&Wt(Ve,v[ae])){ut=ae;break}ut===void 0?lt(Ve,E,N,!0):(_n[ut-oe]=k+1,ut>=ct?ct=ut:at=!0,g(Ve,v[ut],x,null,E,N,G,B,D),He++)}const ii=at?Vc(_n):nn;for(ae=ii.length-1,k=Fe-1;k>=0;k--){const Ve=oe+k,ut=v[Ve],ri=v[Ve+1],li=Ve+1<X?ri.el||hl(ri):$;_n[k]===0?g(null,ut,x,li,E,N,G,B,D):at&&(ae<0||k!==ii[ae]?rt(ut,x,li,2):ae--)}}},rt=(p,v,x,$,E=null)=>{const{el:N,type:G,transition:B,children:D,shapeFlag:k}=p;if(k&6){rt(p.component.subTree,v,x,$);return}if(k&128){p.suspense.move(v,x,$);return}if(k&64){G.move(p,v,x,bn);return}if(G===J){o(N,v,x);for(let U=0;U<D.length;U++)rt(D[U],v,x,$);o(p.anchor,v,x);return}if(G===to){S(p,v,x);return}if($!==2&&k&1&&B)if($===0)B.beforeEnter(N),o(N,v,x),Ue(()=>B.enter(N),E);else{const{leave:U,delayLeave:K,afterLeave:Z}=B,oe=()=>{p.ctx.isUnmounted?s(N):o(N,v,x)},pe=()=>{N._isLeaving&&N[bt](!0),U(N,()=>{oe(),Z&&Z()})};K?K(N,oe,pe):pe()}else o(N,v,x)},lt=(p,v,x,$=!1,E=!1)=>{const{type:N,props:G,ref:B,children:D,dynamicChildren:k,shapeFlag:X,patchFlag:U,dirs:K,cacheIndex:Z}=p;if(U===-2&&(E=!1),B!=null&&(Ct(),kn(B,null,x,p,!0),Tt()),Z!=null&&(v.renderCache[Z]=void 0),X&256){v.ctx.deactivate(p);return}const oe=X&1&&K,pe=!rn(p);let ae;if(pe&&(ae=G&&G.onVnodeBeforeUnmount)&&ft(ae,v,p),X&6)ra(p.component,x,$);else{if(X&128){p.suspense.unmount(x,$);return}oe&&Ft(p,null,v,"beforeUnmount"),X&64?p.type.remove(p,v,x,bn,$):k&&!k.hasOnce&&(N!==J||U>0&&U&64)?yn(k,v,x,!1,!0):(N===J&&U&384||!E&&X&16)&&yn(D,v,x),$&&oi(p)}(pe&&(ae=G&&G.onVnodeUnmounted)||oe)&&Ue(()=>{ae&&ft(ae,v,p),oe&&Ft(p,null,v,"unmounted")},x)},oi=p=>{const{type:v,el:x,anchor:$,transition:E}=p;if(v===J){ia(x,$);return}if(v===to){M(p);return}const N=()=>{s(x),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:G,delayLeave:B}=E,D=()=>G(x,N);B?B(p.el,N,D):D()}else N()},ia=(p,v)=>{let x;for(;p!==v;)x=d(p),s(p),p=x;s(v)},ra=(p,v,x)=>{const{bum:$,scope:E,job:N,subTree:G,um:B,m:D,a:k}=p;Ti(D),Ti(k),$&&eo($),E.stop(),N&&(N.flags|=8,lt(G,p,v,x)),B&&Ue(B,v),Ue(()=>{p.isUnmounted=!0},v)},yn=(p,v,x,$=!1,E=!1,N=0)=>{for(let G=N;G<p.length;G++)lt(p[G],v,x,$,E)},Yn=p=>{if(p.shapeFlag&6)return Yn(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=d(p.anchor||p.el),x=v&&v[rc];return x?d(x):v};let Qo=!1;const si=(p,v,x)=>{let $;p==null?v._vnode&&(lt(v._vnode,null,null,!0),$=v._vnode.component):g(v._vnode||null,p,v,null,null,null,x),v._vnode=p,Qo||(Qo=!0,pi($),Lr(),Qo=!1)},bn={p:g,um:lt,m:rt,r:oi,mt:z,mc:A,pc:ie,pbc:P,n:Yn,o:e};return{render:si,hydrate:void 0,createApp:Ic(si)}}function ls({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Gt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Gc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dl(e,t,n=!1){const o=e.children,s=t.children;if(Y(o)&&Y(s))for(let i=0;i<o.length;i++){const r=o[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=At(s[i]),l.el=r.el),!n&&l.patchFlag!==-2&&dl(r,l)),l.type===Wo&&(l.patchFlag!==-1?l.el=r.el:l.__elIndex=i+(e.type===J?1:0)),l.type===Ae&&!l.el&&(l.el=r.el)}}function Vc(e){const t=e.slice(),n=[0];let o,s,i,r,l;const a=e.length;for(o=0;o<a;o++){const u=e[o];if(u!==0){if(s=n[n.length-1],e[s]<u){t[o]=s,n.push(o);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<u?i=l+1:r=l;u<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function pl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pl(t)}function Ti(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function hl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?hl(t.subTree):null}const gl=e=>e.__isSuspense;function Uc(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):nc(e)}const J=Symbol.for("v-fgt"),Wo=Symbol.for("v-txt"),Ae=Symbol.for("v-cmt"),to=Symbol.for("v-stc"),On=[];let je=null;function I(e=!1){On.push(je=e?null:[])}function jc(){On.pop(),je=On[On.length-1]||null}let Bn=1;function ho(e,t=!1){Bn+=e,e<0&&je&&t&&(je.hasOnce=!0)}function ml(e){return e.dynamicChildren=Bn>0?je||nn:null,jc(),Bn>0&&je&&je.push(e),e}function R(e,t,n,o,s,i){return ml(T(e,t,n,o,s,i,!0))}function me(e,t,n,o,s){return ml(te(e,t,n,o,s,!0))}function Hn(e){return e?e.__v_isVNode===!0:!1}function Wt(e,t){return e.type===t.type&&e.key===t.key}const vl=({key:e})=>e??null,no=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||Te(e)||q(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function T(e,t=null,n=null,o=0,s=null,i=e===J?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vl(t),ref:t&&no(t),scopeId:Hr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ne};return l?(Ks(a,n),i&128&&e.normalize(a)):n&&(a.shapeFlag|=_e(n)?8:16),Bn>0&&!r&&je&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&je.push(a),a}const te=Wc;function Wc(e,t=null,n=null,o=0,s=null,i=!1){if((!e||e===Zr)&&(e=Ae),Hn(e)){const l=Lt(e,t,!0);return n&&Ks(l,n),Bn>0&&!i&&je&&(l.shapeFlag&6?je[je.indexOf(e)]=l:je.push(l)),l.patchFlag=-2,l}if(nu(e)&&(e=e.__vccOpts),t){t=zc(t);let{class:l,style:a}=t;l&&!_e(l)&&(t.class=ke(l)),ce(a)&&(Do(a)&&!Y(a)&&(a=Ie({},a)),t.style=ot(a))}const r=_e(e)?1:gl(e)?128:Vr(e)?64:ce(e)?4:q(e)?2:0;return T(e,t,n,o,s,r,i,!0)}function zc(e){return e?Do(e)||rl(e)?Ie({},e):e:null}function Lt(e,t,n=!1,o=!1){const{props:s,ref:i,patchFlag:r,children:l,transition:a}=e,u=t?Kc(s||{},t):s,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&vl(u),ref:t&&t.ref?n&&i?Y(i)?i.concat(no(t)):[i,no(t)]:no(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==J?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Lt(e.ssContent),ssFallback:e.ssFallback&&Lt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&Zt(c,a.clone(c)),c}function zo(e=" ",t=0){return te(Wo,null,e,t)}function Ko(e,t){const n=te(to,null,e);return n.staticCount=t,n}function Ce(e="",t=!1){return t?(I(),me(Ae,null,e)):te(Ae,null,e)}function gt(e){return e==null||typeof e=="boolean"?te(Ae):Y(e)?te(J,null,e.slice()):Hn(e)?At(e):te(Wo,null,String(e))}function At(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Lt(e)}function Ks(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Y(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),Ks(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!rl(t)?t._ctx=Ne:s===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),o&64?(n=16,t=[zo(t)]):n=8);e.children=t,e.shapeFlag|=n}function Kc(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=ke([t.class,o.class]));else if(s==="style")t.style=ot([t.style,o.style]);else if(To(s)){const i=t[s],r=o[s];r&&i!==r&&!(Y(i)&&i.includes(r))&&(t[s]=i?[].concat(i,r):r)}else s!==""&&(t[s]=o[s])}return t}function ft(e,t,n,o=null){it(e,t,7,[n,o])}const Yc=nl();let Xc=0;function qc(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||Yc,i={uid:Xc++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _a(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:al(o,s),emitsOptions:ol(o,s),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:o.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Mc.bind(null,i),e.ce&&e.ce(i),i}let Re=null;const Ys=()=>Re||Ne;let go,xs;{const e=ko(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),i=>{s.length>1?s.forEach(r=>r(i)):s[0](i)}};go=t("__VUE_INSTANCE_SETTERS__",n=>Re=n),xs=t("__VUE_SSR_SETTERS__",n=>Fn=n)}const Kn=e=>{const t=Re;return go(e),e.scope.on(),()=>{e.scope.off(),go(t)}},Ii=()=>{Re&&Re.scope.off(),go(null)};function yl(e){return e.vnode.shapeFlag&4}let Fn=!1;function Zc(e,t=!1,n=!1){t&&xs(t);const{props:o,children:s}=e.vnode,i=yl(e);Ac(e,o,i,t),Lc(e,s,n||t);const r=i?Jc(e,t):void 0;return t&&xs(!1),r}function Jc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yc);const{setup:o}=n;if(o){Ct();const s=e.setupContext=o.length>1?eu(e):null,i=Kn(e),r=Wn(o,e,0,[e.props,s]),l=ar(r);if(Tt(),i(),(l||e.sp)&&!rn(e)&&Yr(e),l){if(r.then(Ii,Ii),t)return r.then(a=>{Si(e,a)}).catch(a=>{Lo(a,e,0)});e.asyncDep=r}else Si(e,r)}else bl(e)}function Si(e,t,n){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=Ar(t)),bl(e)}function bl(e,t,n){const o=e.type;e.render||(e.render=o.render||mt);{const s=Kn(e);Ct();try{bc(e)}finally{Tt(),s()}}}const Qc={get(e,t){return Oe(e,"get",""),e[t]}};function eu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Qc),slots:e.slots,emit:e.emit,expose:t}}function Yo(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ar(xe(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $n)return $n[n](e)},has(t,n){return n in t||n in $n}})):e.proxy}function tu(e,t=!0){return q(e)?e.displayName||e.name:e.name||t&&e.__name}function nu(e){return q(e)&&"__vccOpts"in e}const V=(e,t)=>Za(e,t,Fn);function ou(e,t,n){try{ho(-1);const o=arguments.length;return o===2?ce(t)&&!Y(t)?Hn(t)?te(e,null,[t]):te(e,t):te(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Hn(n)&&(n=[n]),te(e,t,n))}finally{ho(1)}}const su="3.5.27";let Cs;const Mi=typeof window<"u"&&window.trustedTypes;if(Mi)try{Cs=Mi.createPolicy("vue",{createHTML:e=>e})}catch{}const _l=Cs?e=>Cs.createHTML(e):e=>e,iu="http://www.w3.org/2000/svg",ru="http://www.w3.org/1998/Math/MathML",yt=typeof document<"u"?document:null,Ei=yt&&yt.createElement("template"),lu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?yt.createElementNS(iu,e):t==="mathml"?yt.createElementNS(ru,e):n?yt.createElement(e,{is:n}):yt.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>yt.createTextNode(e),createComment:e=>yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,i){const r=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Ei.innerHTML=_l(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Ei.content;if(o==="svg"||o==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Et="transition",xn="animation",fn=Symbol("_vtc"),wl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xl=Ie({},jr,wl),au=e=>(e.displayName="Transition",e.props=xl,e),Xs=au((e,{slots:t})=>ou(ac,Cl(e),t)),Vt=(e,t=[])=>{Y(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ni=e=>e?Y(e)?e.some(t=>t.length>1):e.length>1:!1;function Cl(e){const t={};for(const C in e)C in wl||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:o,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:u=r,appearToClass:c=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,h=cu(s),g=h&&h[0],y=h&&h[1],{onBeforeEnter:b,onEnter:w,onEnterCancelled:S,onLeave:M,onLeaveCancelled:H,onBeforeAppear:O=b,onAppear:j=w,onAppearCancelled:A=S}=t,_=(C,F,z,ue)=>{C._enterCancelled=ue,kt(C,F?c:l),kt(C,F?u:r),z&&z()},P=(C,F)=>{C._isLeaving=!1,kt(C,f),kt(C,m),kt(C,d),F&&F()},L=C=>(F,z)=>{const ue=C?j:w,Q=()=>_(F,C,z);Vt(ue,[F,Q]),ki(()=>{kt(F,C?a:i),dt(F,C?c:l),Ni(ue)||$i(F,o,g,Q)})};return Ie(t,{onBeforeEnter(C){Vt(b,[C]),dt(C,i),dt(C,r)},onBeforeAppear(C){Vt(O,[C]),dt(C,a),dt(C,u)},onEnter:L(!1),onAppear:L(!0),onLeave(C,F){C._isLeaving=!0;const z=()=>P(C,F);dt(C,f),C._enterCancelled?(dt(C,d),Ts(C)):(Ts(C),dt(C,d)),ki(()=>{C._isLeaving&&(kt(C,f),dt(C,m),Ni(M)||$i(C,o,y,z))}),Vt(M,[C,z])},onEnterCancelled(C){_(C,!1,void 0,!0),Vt(S,[C])},onAppearCancelled(C){_(C,!0,void 0,!0),Vt(A,[C])},onLeaveCancelled(C){P(C),Vt(H,[C])}})}function cu(e){if(e==null)return null;if(ce(e))return[as(e.enter),as(e.leave)];{const t=as(e);return[t,t]}}function as(e){return fa(e)}function dt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[fn]||(e[fn]=new Set)).add(t)}function kt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[fn];n&&(n.delete(t),n.size||(e[fn]=void 0))}function ki(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let uu=0;function $i(e,t,n,o){const s=e._endId=++uu,i=()=>{s===e._endId&&o()};if(n!=null)return setTimeout(i,n);const{type:r,timeout:l,propCount:a}=Tl(e,t);if(!r)return o();const u=r+"end";let c=0;const f=()=>{e.removeEventListener(u,d),i()},d=m=>{m.target===e&&++c>=a&&f()};setTimeout(()=>{c<a&&f()},l+1),e.addEventListener(u,d)}function Tl(e,t){const n=window.getComputedStyle(e),o=h=>(n[h]||"").split(", "),s=o(`${Et}Delay`),i=o(`${Et}Duration`),r=Oi(s,i),l=o(`${xn}Delay`),a=o(`${xn}Duration`),u=Oi(l,a);let c=null,f=0,d=0;t===Et?r>0&&(c=Et,f=r,d=i.length):t===xn?u>0&&(c=xn,f=u,d=a.length):(f=Math.max(r,u),c=f>0?r>u?Et:xn:null,d=c?c===Et?i.length:a.length:0);const m=c===Et&&/\b(?:transform|all)(?:,|$)/.test(o(`${Et}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:m}}function Oi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Ai(n)+Ai(e[o])))}function Ai(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ts(e){return(e?e.ownerDocument:document).body.offsetHeight}function fu(e,t,n){const o=e[fn];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const mo=Symbol("_vod"),Il=Symbol("_vsh"),Sl={name:"show",beforeMount(e,{value:t},{transition:n}){e[mo]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Cn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Cn(e,!0),o.enter(e)):o.leave(e,()=>{Cn(e,!1)}):Cn(e,t))},beforeUnmount(e,{value:t}){Cn(e,t)}};function Cn(e,t){e.style.display=t?e[mo]:"none",e[Il]=!t}const du=Symbol(""),pu=/(?:^|;)\s*display\s*:/;function hu(e,t,n){const o=e.style,s=_e(n);let i=!1;if(n&&!s){if(t)if(_e(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&oo(o,l,"")}else for(const r in t)n[r]==null&&oo(o,r,"");for(const r in n)r==="display"&&(i=!0),oo(o,r,n[r])}else if(s){if(t!==n){const r=o[du];r&&(n+=";"+r),o.cssText=n,i=pu.test(n)}}else t&&e.removeAttribute("style");mo in e&&(e[mo]=i?o.display:"",e[Il]&&(o.display="none"))}const Ri=/\s*!important$/;function oo(e,t,n){if(Y(n))n.forEach(o=>oo(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=gu(e,t);Ri.test(n)?e.setProperty(Bt(o),n.replace(Ri,""),"important"):e[o]=n}}const Pi=["Webkit","Moz","ms"],cs={};function gu(e,t){const n=cs[t];if(n)return n;let o=Je(t);if(o!=="filter"&&o in e)return cs[t]=o;o=Eo(o);for(let s=0;s<Pi.length;s++){const i=Pi[s]+o;if(i in e)return cs[t]=i}return t}const Di="http://www.w3.org/1999/xlink";function Li(e,t,n,o,s,i=va(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Di,t.slice(6,t.length)):e.setAttributeNS(Di,t,n):n==null||i&&!dr(n)?e.removeAttribute(t):e.setAttribute(t,i?"":nt(n)?String(n):n)}function Bi(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?_l(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=dr(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(s||t)}function zt(e,t,n,o){e.addEventListener(t,n,o)}function mu(e,t,n,o){e.removeEventListener(t,n,o)}const Hi=Symbol("_vei");function vu(e,t,n,o,s=null){const i=e[Hi]||(e[Hi]={}),r=i[t];if(o&&r)r.value=o;else{const[l,a]=yu(t);if(o){const u=i[t]=wu(o,s);zt(e,l,u,a)}else r&&(mu(e,l,r,a),i[t]=void 0)}}const Fi=/(?:Once|Passive|Capture)$/;function yu(e){let t;if(Fi.test(e)){t={};let o;for(;o=e.match(Fi);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let us=0;const bu=Promise.resolve(),_u=()=>us||(bu.then(()=>us=0),us=Date.now());function wu(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;it(xu(o,n.value),t,5,[o])};return n.value=e,n.attached=_u(),n}function xu(e,t){if(Y(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Gi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Cu=(e,t,n,o,s,i)=>{const r=s==="svg";t==="class"?fu(e,o,r):t==="style"?hu(e,n,o):To(t)?Bs(t)||vu(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tu(e,t,o,r))?(Bi(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Li(e,t,o,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_e(o))?Bi(e,Je(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Li(e,t,o,r))};function Tu(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Gi(t)&&q(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Gi(t)&&_e(n)?!1:t in e}const Ml=new WeakMap,El=new WeakMap,vo=Symbol("_moveCb"),Vi=Symbol("_enterCb"),Iu=e=>(delete e.props.mode,e),Su=Iu({name:"TransitionGroup",props:Ie({},xl,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ys(),o=Ur();let s,i;return Go(()=>{if(!s.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!$u(s[0].el,n.vnode.el,r)){s=[];return}s.forEach(Eu),s.forEach(Nu);const l=s.filter(ku);Ts(n.vnode.el),l.forEach(a=>{const u=a.el,c=u.style;dt(u,r),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[vo]=d=>{d&&d.target!==u||(!d||d.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[vo]=null,kt(u,r))};u.addEventListener("transitionend",f)}),s=[]}),()=>{const r=se(e),l=Cl(r);let a=r.tag||J;if(s=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(s.push(c),Zt(c,Ln(c,l,o,n)),Ml.set(c,{left:c.el.offsetLeft,top:c.el.offsetTop}))}i=t.default?js(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&Zt(c,Ln(c,l,o,n))}return te(a,null,i)}}}),Mu=Su;function Eu(e){const t=e.el;t[vo]&&t[vo](),t[Vi]&&t[Vi]()}function Nu(e){El.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function ku(e){const t=Ml.get(e),n=El.get(e),o=t.left-n.left,s=t.top-n.top;if(o||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${s}px)`,i.transitionDuration="0s",e}}function $u(e,t,n){const o=e.cloneNode(),s=e[fn];s&&s.forEach(l=>{l.split(/\s+/).forEach(a=>a&&o.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(o);const{hasTransform:r}=Tl(o);return i.removeChild(o),r}const yo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Y(t)?n=>eo(t,n):t};function Ou(e){e.target.composing=!0}function Ui(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const an=Symbol("_assign");function ji(e,t,n){return t&&(e=e.trim()),n&&(e=No(e)),e}const Gn={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[an]=yo(s);const i=o||s.props&&s.props.type==="number";zt(e,t?"change":"input",r=>{r.target.composing||e[an](ji(e.value,n,i))}),(n||i)&&zt(e,"change",()=>{e.value=ji(e.value,n,i)}),t||(zt(e,"compositionstart",Ou),zt(e,"compositionend",Ui),zt(e,"change",Ui))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:i}},r){if(e[an]=yo(r),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?No(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===a)||(e.value=a))}},Au={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=Io(t);zt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?No(bo(r)):bo(r));e[an](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,mn(()=>{e._assigning=!1})}),e[an]=yo(o)},mounted(e,{value:t}){Wi(e,t)},beforeUpdate(e,t,n){e[an]=yo(n)},updated(e,{value:t}){e._assigning||Wi(e,t)}};function Wi(e,t){const n=e.multiple,o=Y(t);if(!(n&&!o&&!Io(t))){for(let s=0,i=e.options.length;s<i;s++){const r=e.options[s],l=bo(r);if(n)if(o){const a=typeof l;a==="string"||a==="number"?r.selected=t.some(u=>String(u)===String(l)):r.selected=ba(t,l)>-1}else r.selected=t.has(l);else if($o(bo(r),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bo(e){return"_value"in e?e._value:e.value}const Ru=["ctrl","shift","alt","meta"],Pu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ru.some(n=>e[`${n}Key`]&&!t.includes(n))},Se=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((s,...i)=>{for(let r=0;r<t.length;r++){const l=Pu[t[r]];if(l&&l(s,t))return}return e(s,...i)}))},Du={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Is=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(s=>{if(!("key"in s))return;const i=Bt(s.key);if(t.some(r=>r===i||Du[r]===i))return e(s)}))},Lu=Ie({patchProp:Cu},lu);let zi;function Bu(){return zi||(zi=Hc(Lu))}const Hu=((...e)=>{const t=Bu().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=Gu(o);if(!s)return;const i=t._component;!q(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const r=n(s,!1,Fu(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},t});function Fu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Gu(e){return _e(e)?document.querySelector(e):e}const Me=[];for(let e=0;e<256;++e)Me.push((e+256).toString(16).slice(1));function Vu(e,t=0){return(Me[e[t+0]]+Me[e[t+1]]+Me[e[t+2]]+Me[e[t+3]]+"-"+Me[e[t+4]]+Me[e[t+5]]+"-"+Me[e[t+6]]+Me[e[t+7]]+"-"+Me[e[t+8]]+Me[e[t+9]]+"-"+Me[e[t+10]]+Me[e[t+11]]+Me[e[t+12]]+Me[e[t+13]]+Me[e[t+14]]+Me[e[t+15]]).toLowerCase()}let fs;const Uu=new Uint8Array(16);function ju(){if(!fs){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fs=crypto.getRandomValues.bind(crypto)}return fs(Uu)}const Wu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ki={randomUUID:Wu};function zu(e,t,n){e=e||{};const o=e.random??e.rng?.()??ju();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Vu(o)}function xt(e,t,n){return Ki.randomUUID&&!e?Ki.randomUUID():zu(e)}class qt{constructor(){this.listenerMap=new Map,this._listeners=[],this.proxyMap=new Map,this.proxies=[]}get listeners(){return this._listeners.concat(this.proxies.flatMap(t=>t()))}subscribe(t,n){this.listenerMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different handlers for the same event/hook.`),this.unsubscribe(t)),this.listenerMap.set(t,n),this._listeners.push(n)}unsubscribe(t){if(this.listenerMap.has(t)){const n=this.listenerMap.get(t);this.listenerMap.delete(t);const o=this._listeners.indexOf(n);o>=0&&this._listeners.splice(o,1)}}registerProxy(t,n){this.proxyMap.has(t)&&(console.warn(`Already subscribed. Unsubscribing for you.
Please check that you don't accidentally use the same token twice to register two different proxies for the same event/hook.`),this.unregisterProxy(t)),this.proxyMap.set(t,n),this.proxies.push(n)}unregisterProxy(t){if(!this.proxyMap.has(t))return;const n=this.proxyMap.get(t);this.proxyMap.delete(t);const o=this.proxies.indexOf(n);o>=0&&this.proxies.splice(o,1)}}class ye extends qt{constructor(t){super(),this.entity=t}emit(t){this.listeners.forEach(n=>n(t,this.entity))}}class Le extends qt{constructor(t){super(),this.entity=t}emit(t){let n=!1;const o=()=>[n=!0];for(const s of Array.from(this.listeners.values()))if(s(t,o,this.entity),n)return{prevented:!0};return{prevented:!1}}}class Ku extends qt{execute(t,n){let o=t;for(const s of this.listeners)o=s(o,n);return o}}class Qe extends Ku{constructor(t){super(),this.entity=t}execute(t){return super.execute(t,this.entity)}}class Yu extends qt{constructor(t){super(),this.entity=t}execute(t){const n=[];for(const o of this.listeners)n.push(o(t,this.entity));return n}}function ht(){const e=Symbol(),t=new Map,n=new Set,o=(a,u)=>{u instanceof qt&&u.registerProxy(e,()=>{var c,f;return(f=(c=t.get(a))===null||c===void 0?void 0:c.listeners)!==null&&f!==void 0?f:[]})},s=a=>{const u=new qt;t.set(a,u),n.forEach(c=>o(a,c[a]))},i=a=>{n.add(a);for(const u of t.keys())o(u,a[u])},r=a=>{for(const u of t.keys())a[u]instanceof qt&&a[u].unregisterProxy(e);n.delete(a)},l=()=>{n.forEach(a=>r(a)),t.clear()};return new Proxy({},{get(a,u){return u==="addTarget"?i:u==="removeTarget"?r:u==="destroy"?l:typeof u!="string"||u.startsWith("_")?a[u]:(t.has(u)||s(u),t.get(u))}})}class Yi{constructor(t,n){if(this.destructed=!1,this.events={destruct:new ye(this)},!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=xt(),this.from=t,this.to=n,this.from.connectionCount++,this.to.connectionCount++}destruct(){this.events.destruct.emit(),this.from.connectionCount--,this.to.connectionCount--,this.destructed=!0}}class Xu{constructor(t,n){if(!t||!n)throw new Error("Cannot initialize connection with null/undefined for 'from' or 'to' values");this.id=xt(),this.from=t,this.to=n}}function Ss(e,t){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,t(o)]))}class Nl{constructor(){this._title="",this.id=xt(),this.events={loaded:new ye(this),beforeAddInput:new Le(this),addInput:new ye(this),beforeRemoveInput:new Le(this),removeInput:new ye(this),beforeAddOutput:new Le(this),addOutput:new ye(this),beforeRemoveOutput:new Le(this),removeOutput:new ye(this),beforeTitleChanged:new Le(this),titleChanged:new ye(this),update:new ye(this)},this.hooks={beforeLoad:new Qe(this),afterSave:new Qe(this)}}get graph(){return this.graphInstance}get title(){return this._title}set title(t){this.events.beforeTitleChanged.emit(t).prevented||(this._title=t,this.events.titleChanged.emit(t))}addInput(t,n){return this.addInterface("input",t,n)}addOutput(t,n){return this.addInterface("output",t,n)}removeInput(t){return this.removeInterface("input",t)}removeOutput(t){return this.removeInterface("output",t)}registerGraph(t){this.graphInstance=t}load(t){this.hooks.beforeLoad.execute(t),this.id=t.id,this._title=t.title,Object.entries(t.inputs).forEach(([n,o])=>{this.inputs[n]&&(this.inputs[n].load(o),this.inputs[n].nodeId=this.id)}),Object.entries(t.outputs).forEach(([n,o])=>{this.outputs[n]&&(this.outputs[n].load(o),this.outputs[n].nodeId=this.id)}),this.events.loaded.emit(this)}save(){const t=Ss(this.inputs,s=>s.save()),n=Ss(this.outputs,s=>s.save()),o={type:this.type,id:this.id,title:this.title,inputs:t,outputs:n};return this.hooks.afterSave.execute(o)}onPlaced(){}onDestroy(){}initializeIo(){Object.entries(this.inputs).forEach(([t,n])=>this.initializeIntf("input",t,n)),Object.entries(this.outputs).forEach(([t,n])=>this.initializeIntf("output",t,n))}initializeIntf(t,n,o){o.isInput=t==="input",o.nodeId=this.id,o.events.setValue.subscribe(this,()=>this.events.update.emit({type:t,name:n,intf:o}))}addInterface(t,n,o){const s=t==="input"?this.events.beforeAddInput:this.events.beforeAddOutput,i=t==="input"?this.events.addInput:this.events.addOutput,r=t==="input"?this.inputs:this.outputs;return s.emit(o).prevented?!1:(r[n]=o,this.initializeIntf(t,n,o),i.emit(o),!0)}removeInterface(t,n){const o=t==="input"?this.events.beforeRemoveInput:this.events.beforeRemoveOutput,s=t==="input"?this.events.removeInput:this.events.removeOutput,i=t==="input"?this.inputs[n]:this.outputs[n];if(!i||o.emit(i).prevented)return!1;if(i.connectionCount>0)if(this.graphInstance)this.graphInstance.connections.filter(l=>l.from===i||l.to===i).forEach(l=>{this.graphInstance.removeConnection(l)});else throw new Error("Interface is connected, but no graph instance is specified. Unable to delete interface");return i.events.setValue.unsubscribe(this),t==="input"?delete this.inputs[n]:delete this.outputs[n],s.emit(i),!0}}class kl extends Nl{load(t){super.load(t)}save(){return super.save()}}function qu(e){return class extends kl{constructor(){var t,n;super(),this.type=e.type,this.inputs={},this.outputs={},this.calculate=e.calculate?(o,s)=>e.calculate.call(this,o,s):void 0,this._title=(t=e.title)!==null&&t!==void 0?t:e.type,this.executeFactory("input",e.inputs),this.executeFactory("output",e.outputs),(n=e.onCreate)===null||n===void 0||n.call(this)}onPlaced(){var t;(t=e.onPlaced)===null||t===void 0||t.call(this)}onDestroy(){var t;(t=e.onDestroy)===null||t===void 0||t.call(this)}executeFactory(t,n){Object.keys(n||{}).forEach(o=>{const s=n[o]();t==="input"?this.addInput(o,s):this.addOutput(o,s)})}}}class ze{set connectionCount(t){this._connectionCount=t,this.events.setConnectionCount.emit(t)}get connectionCount(){return this._connectionCount}set value(t){this.events.beforeSetValue.emit(t).prevented||(this._value=t,this.events.setValue.emit(t))}get value(){return this._value}constructor(t,n){this.id=xt(),this.nodeId="",this.port=!0,this.hidden=!1,this.events={setConnectionCount:new ye(this),beforeSetValue:new Le(this),setValue:new ye(this),updated:new ye(this)},this.hooks={load:new Qe(this),save:new Qe(this)},this._connectionCount=0,this.name=t,this._value=n}load(t){this.id=t.id,this.templateId=t.templateId,this.value=t.value,this.hooks.load.execute(t)}save(){const t={id:this.id,templateId:this.templateId,value:this.value};return this.hooks.save.execute(t)}setComponent(t){return this.component=t,this}setPort(t){return this.port=t,this}setHidden(t){return this.hidden=t,this}use(t,...n){return t(this,...n),this}}const dn="__baklava_SubgraphInputNode",pn="__baklava_SubgraphOutputNode";class $l extends kl{constructor(){super(),this.graphInterfaceId=xt()}onPlaced(){super.onPlaced(),this.initializeIo()}save(){return{...super.save(),graphInterfaceId:this.graphInterfaceId}}load(t){super.load(t),this.graphInterfaceId=t.graphInterfaceId}}class qs extends $l{constructor(){super(...arguments),this.type=dn,this.inputs={name:new ze("Name","Input")},this.outputs={placeholder:new ze("Value",void 0)}}static isGraphInputNode(t){return t.type===dn}}class Zs extends $l{constructor(){super(...arguments),this.type=pn,this.inputs={name:new ze("Name","Output"),placeholder:new ze("Value",void 0)},this.outputs={output:new ze("Output",void 0).setHidden(!0)},this.calculate=({placeholder:t})=>({output:t})}static isGraphOutputNode(t){return t.type===pn}}class Xo{get nodes(){return this._nodes}get connections(){return this._connections}get loading(){return this._loading}get destroying(){return this._destroying}get inputs(){return this.nodes.filter(n=>n.type===dn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===pn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=xt(),this.activeTransactions=0,this._nodes=[],this._connections=[],this._loading=!1,this._destroying=!1,this.events={beforeAddNode:new Le(this),addNode:new ye(this),beforeRemoveNode:new Le(this),removeNode:new ye(this),beforeAddConnection:new Le(this),addConnection:new ye(this),checkConnection:new Le(this),beforeRemoveConnection:new Le(this),removeConnection:new ye(this)},this.hooks={save:new Qe(this),load:new Qe(this),checkConnection:new Yu(this)},this.nodeEvents=ht(),this.nodeHooks=ht(),this.connectionEvents=ht(),this.editor=t,this.template=n,t.registerGraph(this)}addNode(t){if(!this.events.beforeAddNode.emit(t).prevented)return this.nodeEvents.addTarget(t.events),this.nodeHooks.addTarget(t.hooks),t.registerGraph(this),this._nodes.push(t),t=this.nodes.find(n=>n.id===t.id),t.onPlaced(),this.events.addNode.emit(t),t}removeNode(t){if(this.nodes.includes(t)){if(this.events.beforeRemoveNode.emit(t).prevented)return;const n=[...Object.values(t.inputs),...Object.values(t.outputs)];this.connections.filter(o=>n.includes(o.from)||n.includes(o.to)).forEach(o=>this.removeConnection(o)),this._nodes.splice(this.nodes.indexOf(t),1),this.events.removeNode.emit(t),t.onDestroy(),this.nodeEvents.removeTarget(t.events),this.nodeHooks.removeTarget(t.hooks)}}addConnection(t,n){const o=this.checkConnection(t,n);if(!o.connectionAllowed||this.events.beforeAddConnection.emit({from:t,to:n}).prevented)return;for(const i of o.connectionsInDanger){const r=this.connections.find(l=>l.id===i.id);r&&this.removeConnection(r)}const s=new Yi(o.dummyConnection.from,o.dummyConnection.to);return this.internalAddConnection(s),s}removeConnection(t){if(this.connections.includes(t)){if(this.events.beforeRemoveConnection.emit(t).prevented)return;t.destruct(),this._connections.splice(this.connections.indexOf(t),1),this.events.removeConnection.emit(t),this.connectionEvents.removeTarget(t.events)}}checkConnection(t,n){if(!t||!n)return{connectionAllowed:!1};const o=this.findNodeById(t.nodeId),s=this.findNodeById(n.nodeId);if(o&&s&&o===s)return{connectionAllowed:!1};if(t.isInput&&!n.isInput){const l=t;t=n,n=l}if(t.isInput||!n.isInput)return{connectionAllowed:!1};if(this.connections.some(l=>l.from===t&&l.to===n))return{connectionAllowed:!1};if(this.events.checkConnection.emit({from:t,to:n}).prevented)return{connectionAllowed:!1};const i=this.hooks.checkConnection.execute({from:t,to:n});if(i.some(l=>!l.connectionAllowed))return{connectionAllowed:!1};const r=Array.from(new Set(i.flatMap(l=>l.connectionsInDanger)));return{connectionAllowed:!0,dummyConnection:new Xu(t,n),connectionsInDanger:r}}findNodeInterface(t){for(const n of this.nodes){for(const o in n.inputs){const s=n.inputs[o];if(s.id===t)return s}for(const o in n.outputs){const s=n.outputs[o];if(s.id===t)return s}}}findNodeById(t){return this.nodes.find(n=>n.id===t)}load(t){try{this._loading=!0;const n=[];for(let o=this.connections.length-1;o>=0;o--)this.removeConnection(this.connections[o]);for(let o=this.nodes.length-1;o>=0;o--)this.removeNode(this.nodes[o]);this.id=t.id;for(const o of t.nodes){const s=this.editor.nodeTypes.get(o.type);if(!s){n.push(`Node type ${o.type} is not registered`);continue}const i=new s.type;this.addNode(i),i.load(o)}for(const o of t.connections){const s=this.findNodeInterface(o.from),i=this.findNodeInterface(o.to);if(s)if(i){const r=new Yi(s,i);r.id=o.id,this.internalAddConnection(r)}else{n.push(`Could not find interface with id ${o.to}`);continue}else{n.push(`Could not find interface with id ${o.from}`);continue}}return this.hooks.load.execute(t),n}finally{this._loading=!1}}save(){const t={id:this.id,nodes:this.nodes.map(n=>n.save()),connections:this.connections.map(n=>({id:n.id,from:n.from.id,to:n.to.id})),inputs:this.inputs,outputs:this.outputs};return this.hooks.save.execute(t)}destroy(){this._destroying=!0;for(const t of this.nodes)this.removeNode(t);this.editor.unregisterGraph(this)}internalAddConnection(t){this.connectionEvents.addTarget(t.events),this._connections.push(t),this.events.addConnection.emit(t)}}const Vn="__baklava_GraphNode-";function hn(e){return Vn+e.id}const Zu=["component","connectionCount","events","hidden","hooks","id","isInput","name","nodeId","port","templateId","value"];function Ju(e){return class extends Nl{constructor(){super(...arguments),this.type=hn(e),this.inputs={},this.outputs={},this.template=e,this.calculate=async(n,o)=>{var s;if(!this.subgraph)throw new Error(`GraphNode ${this.id}: calculate called without subgraph being initialized`);if(!o.engine||typeof o.engine!="object")throw new Error(`GraphNode ${this.id}: calculate called but no engine provided in context`);const i=o.engine.getInputValues(this.subgraph);for(const a of this.subgraph.inputs)i.set(a.nodeInterfaceId,n[a.id]);const r=await o.engine.runGraph(this.subgraph,i,o.globalValues),l={};for(const a of this.subgraph.outputs)l[a.id]=(s=r.get(a.nodeId))===null||s===void 0?void 0:s.get("output");return l._calculationResults=r,l}}get title(){return this._title}set title(n){this.template.name=n}load(n){if(!this.subgraph)throw new Error("Cannot load a graph node without a graph");if(!this.template)throw new Error("Unable to load graph node without graph template");this.subgraph.load(n.graphState),super.load(n)}save(){if(!this.subgraph)throw new Error("Cannot save a graph node without a graph");return{...super.save(),graphState:this.subgraph.save()}}onPlaced(){this.template.events.updated.subscribe(this,()=>this.initialize()),this.template.events.nameChanged.subscribe(this,n=>{this._title=n}),this.initialize()}onDestroy(){var n;this.template.events.updated.unsubscribe(this),this.template.events.nameChanged.unsubscribe(this),(n=this.subgraph)===null||n===void 0||n.destroy()}initialize(){this.subgraph&&this.subgraph.destroy(),this.subgraph=this.template.createGraph(),this._title=this.template.name,this.updateInterfaces(),this.events.update.emit(null)}updateInterfaces(){if(!this.subgraph)throw new Error("Trying to update interfaces without graph instance");for(const n of this.subgraph.inputs)n.id in this.inputs?this.inputs[n.id].name=n.name:this.addInput(n.id,this.createProxyInterface(n,!0));for(const n of Object.keys(this.inputs))this.subgraph.inputs.some(o=>o.id===n)||this.removeInput(n);for(const n of this.subgraph.outputs)n.id in this.outputs?this.outputs[n.id].name=n.name:this.addOutput(n.id,this.createProxyInterface(n,!1));for(const n of Object.keys(this.outputs))this.subgraph.outputs.some(o=>o.id===n)||this.removeOutput(n);this.addOutput("_calculationResults",new ze("_calculationResults",void 0).setHidden(!0))}createProxyInterface(n,o){const s=new ze(n.name,void 0);return new Proxy(s,{get:(i,r)=>{var l,a,u;if(Zu.includes(r)||r in i||typeof r=="string"&&r.startsWith("__v_"))return Reflect.get(i,r);let c;if(o){const m=(l=this.subgraph)===null||l===void 0?void 0:l.nodes.find(h=>qs.isGraphInputNode(h)&&h.graphInterfaceId===n.id);c=m?.outputs.placeholder.id}else{const m=(a=this.subgraph)===null||a===void 0?void 0:a.nodes.find(h=>Zs.isGraphOutputNode(h)&&h.graphInterfaceId===n.id);c=m?.inputs.placeholder.id}const f=(u=this.subgraph)===null||u===void 0?void 0:u.connections.find(m=>{var h;return c===((h=o?m.from:m.to)===null||h===void 0?void 0:h.id)}),d=o?f?.to:f?.from;if(d)return Reflect.get(d,r)}})}}}class qo{static fromGraph(t,n){return new qo(t.save(),n)}get name(){return this._name}set name(t){this._name=t,this.events.nameChanged.emit(t);const n=this.editor.nodeTypes.get(hn(this));n&&(n.title=t)}get inputs(){return this.nodes.filter(n=>n.type===dn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.placeholder.id}))}get outputs(){return this.nodes.filter(n=>n.type===pn).map(n=>({id:n.graphInterfaceId,name:n.inputs.name.value,nodeId:n.id,nodeInterfaceId:n.outputs.output.id}))}constructor(t,n){this.id=xt(),this._name="Subgraph",this.events={nameChanged:new ye(this),updated:new ye(this)},this.hooks={beforeLoad:new Qe(this),afterSave:new Qe(this)},this.editor=n,t.id&&(this.id=t.id),t.name&&(this._name=t.name),this.update(t)}update(t){this.nodes=t.nodes,this.connections=t.connections,this.events.updated.emit()}save(){return{id:this.id,name:this.name,nodes:this.nodes,connections:this.connections,inputs:this.inputs,outputs:this.outputs}}createGraph(t){const n=new Map,o=d=>{const m=xt();return n.set(d,m),m},s=d=>{const m=n.get(d);if(!m)throw new Error(`Unable to create graph from template: Could not map old id ${d} to new id`);return m},i=d=>Ss(d,m=>({id:o(m.id),templateId:m.id,value:m.value})),r=this.nodes.map(d=>({...d,id:o(d.id),inputs:i(d.inputs),outputs:i(d.outputs)})),l=this.connections.map(d=>({id:o(d.id),from:s(d.from),to:s(d.to)})),a=this.inputs.map(d=>({id:d.id,name:d.name,nodeId:s(d.nodeId),nodeInterfaceId:s(d.nodeInterfaceId)})),u=this.outputs.map(d=>({id:d.id,name:d.name,nodeId:s(d.nodeId),nodeInterfaceId:s(d.nodeInterfaceId)})),c={id:xt(),nodes:r,connections:l,inputs:a,outputs:u};return t||(t=new Xo(this.editor)),t.load(c).forEach(d=>console.warn(d)),t.template=this,t}}class Qu{get nodeTypes(){return this._nodeTypes}get graph(){return this._graph}get graphTemplates(){return this._graphTemplates}get graphs(){return this._graphs}get loading(){return this._loading}constructor(){this.events={loaded:new ye(this),beforeRegisterNodeType:new Le(this),registerNodeType:new ye(this),beforeUnregisterNodeType:new Le(this),unregisterNodeType:new ye(this),beforeAddGraphTemplate:new Le(this),addGraphTemplate:new ye(this),beforeRemoveGraphTemplate:new Le(this),removeGraphTemplate:new ye(this),registerGraph:new ye(this),unregisterGraph:new ye(this)},this.hooks={save:new Qe(this),load:new Qe(this)},this.graphTemplateEvents=ht(),this.graphTemplateHooks=ht(),this.graphEvents=ht(),this.graphHooks=ht(),this.nodeEvents=ht(),this.nodeHooks=ht(),this.connectionEvents=ht(),this._graphs=new Set,this._nodeTypes=new Map,this._graph=new Xo(this),this._graphTemplates=[],this._loading=!1,this.registerNodeType(qs),this.registerNodeType(Zs)}registerNodeType(t,n){var o,s;if(this.events.beforeRegisterNodeType.emit({type:t,options:n}).prevented)return;const i=new t;this._nodeTypes.set(i.type,{type:t,category:(o=n?.category)!==null&&o!==void 0?o:"default",title:(s=n?.title)!==null&&s!==void 0?s:i.title}),this.events.registerNodeType.emit({type:t,options:n})}unregisterNodeType(t){const n=typeof t=="string"?t:new t().type;if(this.nodeTypes.has(n)){if(this.events.beforeUnregisterNodeType.emit(n).prevented)return;this._nodeTypes.delete(n),this.events.unregisterNodeType.emit(n)}}addGraphTemplate(t){if(this.events.beforeAddGraphTemplate.emit(t).prevented)return;this._graphTemplates.push(t),this.graphTemplateEvents.addTarget(t.events),this.graphTemplateHooks.addTarget(t.hooks);const n=Ju(t);this.registerNodeType(n,{category:"Subgraphs",title:t.name}),this.events.addGraphTemplate.emit(t)}removeGraphTemplate(t){if(this.graphTemplates.includes(t)){if(this.events.beforeRemoveGraphTemplate.emit(t).prevented)return;const n=hn(t);for(const o of[this.graph,...this.graphs.values()]){const s=o.nodes.filter(i=>i.type===n);for(const i of s)o.removeNode(i)}this.unregisterNodeType(n),this._graphTemplates.splice(this._graphTemplates.indexOf(t),1),this.graphTemplateEvents.removeTarget(t.events),this.graphTemplateHooks.removeTarget(t.hooks),this.events.removeGraphTemplate.emit(t)}}registerGraph(t){this.graphEvents.addTarget(t.events),this.graphHooks.addTarget(t.hooks),this.nodeEvents.addTarget(t.nodeEvents),this.nodeHooks.addTarget(t.nodeHooks),this.connectionEvents.addTarget(t.connectionEvents),this.events.registerGraph.emit(t),this._graphs.add(t)}unregisterGraph(t){this.graphEvents.removeTarget(t.events),this.graphHooks.removeTarget(t.hooks),this.nodeEvents.removeTarget(t.nodeEvents),this.nodeHooks.removeTarget(t.nodeHooks),this.connectionEvents.removeTarget(t.connectionEvents),this.events.unregisterGraph.emit(t),this._graphs.delete(t)}load(t){try{for(this._loading=!0,t=this.hooks.load.execute(t);this.graphTemplates.length>0;)this.removeGraphTemplate(this.graphTemplates[0]);t.graphTemplates.forEach(o=>{const s=new qo(o,this);this.addGraphTemplate(s)});const n=this._graph.load(t.graph);return this.events.loaded.emit(),n.forEach(o=>console.warn(o)),n}finally{this._loading=!1}}save(){const t={graph:this.graph.save(),graphTemplates:this.graphTemplates.map(n=>n.save())};return this.hooks.save.execute(t)}}var Xi;(function(e){e.Running="Running",e.Idle="Idle",e.Paused="Paused",e.Stopped="Stopped"})(Xi||(Xi={}));const ef=["INPUT","TEXTAREA","SELECT"];function Ol(e){return ef.includes(e.tagName)}let Ms=null;function tf(e){Ms=e}function Be(){if(!Ms)throw new Error("providePlugin() must be called before usePlugin()");return{viewModel:Ms}}function et(){const{viewModel:e}=Be();return{graph:lo(e.value,"displayedGraph"),switchGraph:e.value.switchGraph}}function Al(e){const{graph:t}=et(),n=W(null),o=W(null);return{dragging:V(()=>!!n.value),onPointerDown:a=>{n.value={x:a.pageX,y:a.pageY},o.value={x:e.value.x,y:e.value.y}},onPointerMove:a=>{if(n.value){const u=a.pageX-n.value.x,c=a.pageY-n.value.y;e.value.x=o.value.x+u/t.value.scaling,e.value.y=o.value.y+c/t.value.scaling}},onPointerUp:()=>{n.value=null,o.value=null}}}function Rl(e,t,n){if(!t.template)return!1;if(hn(t.template)===n)return!0;const o=e.graphTemplates.find(i=>hn(i)===n);return o?o.nodes.filter(i=>i.type.startsWith(Vn)).some(i=>Rl(e,t,i.type)):!1}function Pl(e){return V(()=>{const t=Array.from(e.value.editor.nodeTypes.entries()),n=new Set(t.map(([,s])=>s.category)),o=[];for(const s of n.values()){let i=t.filter(([,r])=>r.category===s);e.value.displayedGraph.template?i=i.filter(([r])=>!Rl(e.value.editor,e.value.displayedGraph,r)):i=i.filter(([r])=>![dn,pn].includes(r)),i.length>0&&o.push({name:s,nodeTypes:Object.fromEntries(i)})}return o.sort((s,i)=>s.name==="default"?-1:i.name==="default"||s.name>i.name?1:-1),o})}function Dl(){const{graph:e}=et();return{transform:(n,o)=>{const s=n/e.value.scaling-e.value.panning.x,i=o/e.value.scaling-e.value.panning.y;return[s,i]}}}function nf(){const{viewModel:e}=Be(),{graph:t}=et();let n=[],o=-1,s={x:0,y:0};const i=V(()=>t.value.panning),r=Al(i),l=V(()=>({"transform-origin":"0 0",transform:`scale(${t.value.scaling}) translate(${t.value.panning.x}px, ${t.value.panning.y}px)`})),a=(h,g,y)=>{y<e.value.settings.panZoom.minScale?y=e.value.settings.panZoom.minScale:y>e.value.settings.panZoom.maxScale&&(y=e.value.settings.panZoom.maxScale);const b=[h/t.value.scaling-t.value.panning.x,g/t.value.scaling-t.value.panning.y],w=[h/y-t.value.panning.x,g/y-t.value.panning.y],S=[w[0]-b[0],w[1]-b[1]];t.value.panning.x+=S[0],t.value.panning.y+=S[1],t.value.scaling=y},u=h=>{h.preventDefault();let g=h.deltaY;h.deltaMode===1&&(g*=32);const y=t.value.scaling*(1-g/3e3);a(h.offsetX,h.offsetY,y)},c=()=>({ax:n[0].clientX,ay:n[0].clientY,bx:n[1].clientX,by:n[1].clientY});return{styles:l,...r,onPointerDown:h=>{if(n.push(h),r.onPointerDown(h),n.length===2){const{ax:g,ay:y,bx:b,by:w}=c();s={x:g+(b-g)/2,y:y+(w-y)/2}}},onPointerMove:h=>{for(let g=0;g<n.length;g++)if(h.pointerId==n[g].pointerId){n[g]=h;break}if(n.length==2){const{ax:g,ay:y,bx:b,by:w}=c(),S=g-b,M=y-w,H=Math.sqrt(S*S+M*M);if(o>0){const O=t.value.scaling*(1+(H-o)/500);a(s.x,s.y,O)}o=H}else r.onPointerMove(h)},onPointerUp:h=>{n=n.filter(g=>g.pointerId!==h.pointerId),o=-1,r.onPointerUp()},onMouseWheel:u}}var qe=(e=>(e[e.NONE=0]="NONE",e[e.ALLOWED=1]="ALLOWED",e[e.FORBIDDEN=2]="FORBIDDEN",e))(qe||{});const Ll=Symbol();function of(){const{graph:e}=et(),t=W(null),n=W(null),o=l=>{t.value&&(t.value.mx=l.offsetX/e.value.scaling-e.value.panning.x,t.value.my=l.offsetY/e.value.scaling-e.value.panning.y)},s=()=>{if(n.value){if(t.value)return;const l=e.value.connections.find(a=>a.to===n.value);n.value.isInput&&l?(t.value={status:qe.NONE,from:l.from},e.value.removeConnection(l)):t.value={status:qe.NONE,from:n.value},t.value.mx=void 0,t.value.my=void 0}},i=()=>{if(t.value&&n.value){if(t.value.from===n.value)return;e.value.addConnection(t.value.from,t.value.to)}t.value=null},r=l=>{if(n.value=l??null,l&&t.value){t.value.to=l;const a=e.value.checkConnection(t.value.from,t.value.to);if(t.value.status=a.connectionAllowed?qe.ALLOWED:qe.FORBIDDEN,a.connectionAllowed){const u=a.connectionsInDanger.map(c=>c.id);e.value.connections.forEach(c=>{u.includes(c.id)&&(c.isInDanger=!0)})}}else!l&&t.value&&(t.value.to=void 0,t.value.status=qe.NONE,e.value.connections.forEach(a=>{a.isInDanger=!1}))};return Bo(Ll,{temporaryConnection:t,hoveredOver:r}),{temporaryConnection:t,onMouseMove:o,onMouseDown:s,onMouseUp:i,hoveredOver:r}}function sf(){const e=Xt(Ll);if(!e)throw new Error("useTemporaryConnection must be used within a BaklavaEditor");return e}function rf(e){const t=W(!1),n=W(0),o=W(0),s=Pl(e),{transform:i}=Dl(),r=V(()=>{let c=[];const f={};for(const m of s.value){const h=Object.entries(m.nodeTypes).map(([g,y])=>({label:y.title,value:"addNode:"+g}));m.name==="default"?c=h:f[m.name]=h}const d=[...Object.entries(f).map(([m,h])=>({label:m,submenu:h}))];return d.length>0&&c.length>0&&d.push({isDivider:!0}),d.push(...c),d}),l=V(()=>e.value.settings.contextMenu.additionalItems.length===0?r.value:[{label:"Add node",submenu:r.value},...e.value.settings.contextMenu.additionalItems.map(c=>"isDivider"in c||"submenu"in c?c:{label:c.label,value:"command:"+c.command,disabled:!e.value.commandHandler.canExecuteCommand(c.command)})]);function a(c){const f=c.target;if(!(f instanceof Element)||Ol(f))return;c.preventDefault(),t.value=!0;const d=f.getBoundingClientRect(),h=f.closest(".baklava-editor").getBoundingClientRect();n.value=d.x+c.offsetX-h.x,o.value=d.y+c.offsetY-h.y}function u(c){if(c.startsWith("addNode:")){const f=c.substring(8),d=e.value.editor.nodeTypes.get(f);if(!d)return;const m=Ke(new d.type);e.value.displayedGraph.addNode(m);const[h,g]=i(n.value,o.value);m.position.x=h,m.position.y=g}else if(c.startsWith("command:")){const f=c.substring(8);e.value.commandHandler.canExecuteCommand(f)&&e.value.commandHandler.executeCommand(f)}}return{show:t,x:n,y:o,items:l,open:a,onClick:u}}const so="START_SELECTION_BOX";function lf(e){const{viewModel:t}=Be(),{graph:n}=et(),o=V(()=>n.value.nodes),s=W(!1),i=W(!1),r=W([0,0]),l=W([0,0]);Ze(t,()=>{t.value.commandHandler.hasCommand(so)||(t.value.commandHandler.registerCommand(so,{canExecute:()=>!0,execute(){s.value=!0}}),t.value.commandHandler.registerHotkey(["b"],so))},{immediate:!0});function a(b){return[b.clientX-e.value.getBoundingClientRect().left,b.clientY-e.value.getBoundingClientRect().top]}function u(b){return s.value?(i.value=!0,s.value=!1,r.value=a(b),l.value=a(b),document.addEventListener("pointermove",c),document.addEventListener("pointerup",f),!0):!1}function c(b){r.value=a(b)}function f(b){document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",f),r.value=a(b),i.value=!1;const w=d();for(const S of w)t.value.displayedGraph.selectedNodes.push(S)}function d(){const b=m(),S=document.querySelector(".baklava-editor").getBoundingClientRect();return o.value.filter(M=>{const H=h(M,S);return g(b,H)})}function m(){return{left:Math.min(r.value[0],l.value[0]),top:Math.min(r.value[1],l.value[1]),right:Math.max(r.value[0],l.value[0]),bottom:Math.max(r.value[1],l.value[1])}}function h(b,w){const S=document.getElementById(b.id),M=S?S.getBoundingClientRect():{x:0,y:0,width:0,height:0},H=M.x-w.left,O=M.y-w.top;return{left:H,top:O,right:H+M.width,bottom:O+M.height}}function g(b,w){return b.left<w.right&&b.right>w.left&&b.top<w.bottom&&b.bottom>w.top}function y(){return{width:Math.abs(l.value[0]-r.value[0])+"px",height:Math.abs(l.value[1]-r.value[1])+"px",left:(l.value[0]>r.value[0]?r.value[0]:l.value[0])+"px",top:(l.value[1]>r.value[1]?r.value[1]:l.value[1])+"px"}}return Ke({startSelection:s,isSelecting:i,start:r,end:l,onPointerDown:u,getStyles:y})}const af=de({setup(){const{viewModel:e}=Be(),{graph:t}=et();return{styles:V(()=>{const o=e.value.settings.background,s=t.value.panning.x*t.value.scaling,i=t.value.panning.y*t.value.scaling,r=t.value.scaling*o.gridSize,l=r/o.gridDivision,a=`${r}px ${r}px, ${r}px ${r}px`,u=t.value.scaling>o.subGridVisibleThreshold?`, ${l}px ${l}px, ${l}px ${l}px`:"";return{backgroundPosition:`left ${s}px top ${i}px`,backgroundSize:`${a} ${u}`}})}}}),we=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};function cf(e,t,n,o,s,i){return I(),R("div",{class:"background",style:ot(e.styles)},null,4)}const uf=we(af,[["render",cf]]);function ff(e,t){return gr()?(wa(e,t),!0):!1}const df=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const pf=Object.prototype.toString,hf=e=>pf.call(e)==="[object Object]",Qn=()=>{};function gf(e,t,n=!1){return t.reduce((o,s)=>(s in e&&(!n||e[s]!==void 0)&&(o[s]=e[s]),o),{})}function ds(e){return Array.isArray(e)?e:[e]}function mf(e,t={}){if(!Te(e))return Ka(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=za(()=>({get(){return e.value[o]},set(s){var i;if(!((i=Pt(t.replaceRef))!==null&&i!==void 0)||i)if(Array.isArray(e.value)){const r=[...e.value];r[o]=s,e.value=r}else{const r={...e.value,[o]:s};Object.setPrototypeOf(r,Object.getPrototypeOf(e.value)),e.value=r}else e.value[o]=s}}));return n}function vf(e,t,n){return Ze(e,t,{...n,immediate:!0})}const Js=df?window:void 0;function Sn(e){var t;const n=Pt(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function An(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},o=(l,a,u,c)=>(l.addEventListener(a,u,c),()=>l.removeEventListener(a,u,c)),s=V(()=>{const l=ds(Pt(e[0])).filter(a=>a!=null);return l.every(a=>typeof a!="string")?l:void 0}),i=vf(()=>{var l,a;return[(l=(a=s.value)===null||a===void 0?void 0:a.map(u=>Sn(u)))!==null&&l!==void 0?l:[Js].filter(u=>u!=null),ds(Pt(s.value?e[1]:e[0])),ds(ee(s.value?e[2]:e[1])),Pt(s.value?e[3]:e[2])]},([l,a,u,c])=>{if(n(),!l?.length||!a?.length||!u?.length)return;const f=hf(c)?{...c}:c;t.push(...l.flatMap(d=>a.flatMap(m=>u.map(h=>o(d,m,h,f)))))},{flush:"post"}),r=()=>{i(),n()};return ff(n),r}function Bl(e,t,n={}){const{window:o=Js,ignore:s=[],capture:i=!0,detectIframe:r=!1,controls:l=!1}=n;if(!o)return l?{stop:Qn,cancel:Qn,trigger:Qn}:Qn;let a=!0;const u=y=>Pt(s).some(b=>{if(typeof b=="string")return Array.from(o.document.querySelectorAll(b)).some(w=>w===y.target||y.composedPath().includes(w));{const w=Sn(b);return w&&(y.target===w||y.composedPath().includes(w))}});function c(y){const b=Pt(y);return b&&b.$.subTree.shapeFlag===16}function f(y,b){const w=Pt(y),S=w.$.subTree&&w.$.subTree.children;return S==null||!Array.isArray(S)?!1:S.some(M=>M.el===b.target||b.composedPath().includes(M.el))}const d=y=>{const b=Sn(e);if(y.target!=null&&!(!(b instanceof Element)&&c(e)&&f(e,y))&&!(!b||b===y.target||y.composedPath().includes(b))){if("detail"in y&&y.detail===0&&(a=!u(y)),!a){a=!0;return}t(y)}};let m=!1;const h=[An(o,"click",y=>{m||(m=!0,setTimeout(()=>{m=!1},0),d(y))},{passive:!0,capture:i}),An(o,"pointerdown",y=>{const b=Sn(e);a=!u(y)&&!!(b&&!y.composedPath().includes(b))},{passive:!0}),r&&An(o,"blur",y=>{setTimeout(()=>{var b;const w=Sn(e);((b=o.document.activeElement)===null||b===void 0?void 0:b.tagName)==="IFRAME"&&!w?.contains(o.document.activeElement)&&t(y)},0)},{passive:!0})].filter(Boolean),g=()=>h.forEach(y=>y());return l?{stop:g,cancel:()=>{a=!1},trigger:y=>{a=!0,d(y),a=!1}}:g}const Hl={x:0,y:0,pointerId:0,pressure:0,tiltX:0,tiltY:0,width:0,height:0,twist:0,pointerType:null},yf=Object.keys(Hl);function bf(e={}){const{target:t=Js}=e,n=di(!1),o=di(e.initialValue||{});Object.assign(o.value,Hl,o.value);const s=i=>{n.value=!0,!(e.pointerTypes&&!e.pointerTypes.includes(i.pointerType))&&(o.value=gf(i,yf,!1))};if(t){const i={passive:!0};An(t,["pointerdown","pointermove","pointerup"],s,i),An(t,"pointerleave",()=>n.value=!1,i)}return{...mf(o),isInside:n}}const _f=["onMouseenter","onMouseleave","onClick"],wf={class:"flex-fill"},xf={key:0,class:"__submenu-icon",style:{"line-height":"1em"}},Zo=de({__name:"ContextMenu",props:{modelValue:{type:Boolean},items:{},x:{default:0},y:{default:0},isNested:{type:Boolean,default:!1},isFlipped:{default:()=>({x:!1,y:!1})},flippable:{type:Boolean,default:!1}},emits:["update:modelValue","click"],setup(e,{emit:t}){const n=e,o=t;let s=null;const i=W(null),r=W(-1),l=W(0),a=W({x:!1,y:!1}),u=V(()=>n.flippable&&(a.value.x||n.isFlipped.x)),c=V(()=>n.flippable&&(a.value.y||n.isFlipped.y)),f=V(()=>{const w={};return n.isNested||(w.top=(c.value?n.y-l.value:n.y)+"px",w.left=n.x+"px"),w}),d=V(()=>({"--flipped-x":u.value,"--flipped-y":c.value,"--nested":n.isNested})),m=V(()=>n.items.map(w=>({...w,hover:!1})));Ze([()=>n.y,()=>n.items],()=>{l.value=n.items.length*30;const w=i.value?.parentElement?.offsetWidth??0,S=i.value?.parentElement?.offsetHeight??0;a.value.x=!n.isNested&&n.x>w*.75,a.value.y=!n.isNested&&n.y+l.value>S-20}),Bl(i,()=>{n.modelValue&&o("update:modelValue",!1)});const h=w=>{!w.submenu&&w.value&&(o("click",w.value),o("update:modelValue",!1))},g=w=>{o("click",w),r.value=-1,n.isNested||o("update:modelValue",!1)},y=(w,S)=>{n.items[S].submenu&&(r.value=S,s!==null&&(clearTimeout(s),s=null))},b=(w,S)=>{n.items[S].submenu&&(s=window.setTimeout(()=>{r.value=-1,s=null},200))};return(w,S)=>{const M=un("ContextMenu",!0);return I(),me(Xs,{name:"slide-fade"},{default:Jt(()=>[Dt(T("div",{ref_key:"el",ref:i,class:ke(["baklava-context-menu",d.value]),style:ot(f.value)},[(I(!0),R(J,null,be(m.value,(H,O)=>(I(),R(J,null,[H.isDivider?(I(),R("div",{key:`d-${O}`,class:"divider"})):(I(),R("div",{key:`i-${O}`,class:ke(["item",{submenu:!!H.submenu,"--disabled":!!H.disabled}]),onMouseenter:j=>y(j,O),onMouseleave:j=>b(j,O),onClick:Se(j=>h(H),["stop","prevent"])},[T("div",wf,re(H.label),1),H.submenu?(I(),R("div",xf,[...S[0]||(S[0]=[T("svg",{width:"13",height:"13",viewBox:"-60 120 250 250"},[T("path",{d:"M160.875 279.5625 L70.875 369.5625 L70.875 189.5625 L160.875 279.5625 Z",stroke:"none",fill:"white"})],-1)])])):Ce("",!0),H.submenu?(I(),me(M,{key:1,"model-value":r.value===O,items:H.submenu,"is-nested":!0,"is-flipped":{x:u.value,y:c.value},flippable:e.flippable,onClick:g},null,8,["model-value","items","is-flipped","flippable"])):Ce("",!0)],42,_f))],64))),256))],6),[[Sl,e.modelValue]])]),_:1})}}}),Cf={},Tf={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"16",height:"16",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function If(e,t){return I(),R("svg",Tf,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("circle",{cx:"12",cy:"12",r:"1"},null,-1),T("circle",{cx:"12",cy:"19",r:"1"},null,-1),T("circle",{cx:"12",cy:"5",r:"1"},null,-1)])])}const Fl=we(Cf,[["render",If]]),Sf=["id"],Mf={key:0,class:"__tooltip"},Ef={key:2,class:"align-middle"},Es=de({__name:"NodeInterface",props:{node:{},intf:{}},setup(e){const t=(y,b=100)=>{const w=typeof y?.toString=="function"?String(y):"";return w.length>b?w.slice(0,b)+"...":w},n=e,{viewModel:o}=Be(),{hoveredOver:s,temporaryConnection:i}=sf(),r=W(null),l=V(()=>n.intf.connectionCount>0),a=W(!1),u=V(()=>o.value.settings.displayValueOnHover&&a.value),c=V(()=>({"--input":n.intf.isInput,"--output":!n.intf.isInput,"--connected":l.value})),f=V(()=>n.intf.component&&(!n.intf.isInput||!n.intf.port||n.intf.connectionCount===0)),d=()=>{a.value=!0,s(n.intf)},m=()=>{a.value=!1,s(void 0)},h=()=>{r.value&&o.value.hooks.renderInterface.execute({intf:n.intf,el:r.value})},g=()=>{const y=o.value.displayedGraph.sidebar;y.nodeId=n.node.id,y.optionName=n.intf.name,y.visible=!0};return Ht(h),Go(h),(y,b)=>(I(),R("div",{id:e.intf.id,ref_key:"el",ref:r,class:ke(["baklava-node-interface",c.value])},[e.intf.port?(I(),R("div",{key:0,class:ke(["__port",{"--selected":ee(i)?.from===e.intf}]),onPointerover:d,onPointerout:m},[Ge(y.$slots,"portTooltip",{showTooltip:u.value},()=>[u.value===!0?(I(),R("span",Mf,re(t(e.intf.value)),1)):Ce("",!0)])],34)):Ce("",!0),f.value?(I(),me(Uo(e.intf.component),{key:1,modelValue:e.intf.value,"onUpdate:modelValue":b[0]||(b[0]=w=>e.intf.value=w),node:e.node,intf:e.intf,onOpenSidebar:g},null,40,["modelValue","node","intf"])):(I(),R("span",Ef,re(e.intf.name),1))],10,Sf))}}),Nf=["id","data-node-type"],kf={class:"__title-label"},$f={class:"__menu"},Of={class:"__outputs"},Af={class:"__inputs"},Gl=de({__name:"Node",props:{node:{},selected:{type:Boolean,default:!1},dragging:{type:Boolean}},emits:["select","start-drag"],setup(e,{emit:t}){const n=e,o=t,{viewModel:s}=Be(),{graph:i,switchGraph:r}=et(),l=W(null),a=W(!1),u=W(""),c=W(null),f=W(!1);let d=0,m=0;const h=W(!1),g=V(()=>{const z=[{value:"rename",label:"Rename"},{value:"delete",label:"Delete"}];return n.node.type.startsWith(Vn)&&z.push({value:"editSubgraph",label:"Edit Subgraph"}),z}),y=V(()=>({"--selected":n.selected,"--dragging":n.dragging,"--two-column":!!n.node.twoColumn})),b=V(()=>({"--reverse-y":n.node.reverseY??s.value.settings.nodes.reverseY})),w=V(()=>({top:`${n.node.position?.y??0}px`,left:`${n.node.position?.x??0}px`,"--width":`${n.node.width??s.value.settings.nodes.defaultWidth}px`})),S=V(()=>Object.values(n.node.inputs).filter(z=>!z.hidden)),M=V(()=>Object.values(n.node.outputs).filter(z=>!z.hidden)),H=()=>{o("select")},O=z=>{n.selected||H(),o("start-drag",z)},j=()=>{h.value=!0},A=async z=>{switch(z){case"delete":i.value.removeNode(n.node);break;case"rename":u.value=n.node.title,a.value=!0,await mn(),c.value?.focus();break;case"editSubgraph":r(n.node.template);break}},_=()=>{n.node.title=u.value,a.value=!1},P=()=>{l.value&&s.value.hooks.renderNode.execute({node:n.node,el:l.value})},L=z=>{f.value=!0,d=n.node.width,m=z.clientX,z.preventDefault()},C=z=>{if(!f.value)return;const ue=z.clientX-m,Q=d+ue/i.value.scaling,ne=s.value.settings.nodes.minWidth,ie=s.value.settings.nodes.maxWidth;n.node.width=Math.max(ne,Math.min(ie,Q))},F=()=>{f.value=!1};return Ht(()=>{P(),window.addEventListener("mousemove",C),window.addEventListener("mouseup",F)}),Go(P),zn(()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",F)}),(z,ue)=>(I(),R("div",{id:e.node.id,ref_key:"el",ref:l,class:ke(["baklava-node",y.value]),style:ot(w.value),"data-node-type":e.node.type,onPointerdown:H},[ee(s).settings.nodes.resizable?(I(),R("div",{key:0,class:"__resize-handle",onMousedown:L},null,32)):Ce("",!0),Ge(z.$slots,"title",{},()=>[T("div",{class:"__title",onPointerdown:Se(O,["self","stop"]),onContextmenu:Se(j,["prevent"])},[a.value?Dt((I(),R("input",{key:1,ref_key:"renameInputEl",ref:c,"onUpdate:modelValue":ue[1]||(ue[1]=Q=>u.value=Q),type:"text",class:"baklava-input",placeholder:"Node Name",onBlur:_,onKeydown:Is(_,["enter"])},null,544)),[[Gn,u.value]]):(I(),R(J,{key:0},[T("div",kf,re(e.node.title),1),T("div",$f,[te(Fl,{class:"--clickable",onClick:j}),te(ee(Zo),{modelValue:h.value,"onUpdate:modelValue":ue[0]||(ue[0]=Q=>h.value=Q),x:0,y:0,items:g.value,onClick:A},null,8,["modelValue","items"])])],64))],32)]),Ge(z.$slots,"content",{},()=>[T("div",{class:ke(["__content",b.value]),onKeydown:ue[2]||(ue[2]=Is(Se(()=>{},["stop"]),["delete"]))},[T("div",Of,[(I(!0),R(J,null,be(M.value,Q=>Ge(z.$slots,"nodeInterface",{key:Q.id,type:"output",node:e.node,intf:Q},()=>[te(Es,{node:e.node,intf:Q},null,8,["node","intf"])])),128))]),T("div",Af,[(I(!0),R(J,null,be(S.value,Q=>Ge(z.$slots,"nodeInterface",{key:Q.id,type:"input",node:e.node,intf:Q},()=>[te(Es,{node:e.node,intf:Q},null,8,["node","intf"])])),128))])],34)])],46,Nf))}}),Rf=de({props:{x1:{type:Number,required:!0},y1:{type:Number,required:!0},x2:{type:Number,required:!0},y2:{type:Number,required:!0},state:{type:Number,default:qe.NONE},isTemporary:{type:Boolean,default:!1}},setup(e){const{viewModel:t}=Be(),{graph:n}=et(),o=(r,l)=>{const a=(r+n.value.panning.x)*n.value.scaling,u=(l+n.value.panning.y)*n.value.scaling;return[a,u]},s=V(()=>{const[r,l]=o(e.x1,e.y1),[a,u]=o(e.x2,e.y2);if(t.value.settings.useStraightConnections)return`M ${r} ${l} L ${a} ${u}`;{const c=.3*Math.abs(r-a);return`M ${r} ${l} C ${r+c} ${l}, ${a-c} ${u}, ${a} ${u}`}}),i=V(()=>({"--temporary":e.isTemporary,"--allowed":e.state===qe.ALLOWED,"--forbidden":e.state===qe.FORBIDDEN}));return{d:s,classes:i}}}),Pf=["d"];function Df(e,t,n,o,s,i){return I(),R("path",{class:ke(["baklava-connection",e.classes]),d:e.d},null,10,Pf)}const Qs=we(Rf,[["render",Df]]);function Lf(e){return document.getElementById(e.id)}function gn(e){const t=document.getElementById(e.id),n=t?.getElementsByClassName("__port");return{node:t?.closest(".baklava-node")??null,interface:t,port:n&&n.length>0?n[0]:null}}const Bf=de({components:{"connection-view":Qs},props:{connection:{type:Object,required:!0}},setup(e){const{graph:t}=et();let n;const o=W({x1:0,y1:0,x2:0,y2:0}),s=V(()=>e.connection.isInDanger?qe.FORBIDDEN:qe.NONE),i=V(()=>t.value.findNodeById(e.connection.from.nodeId)?.position),r=V(()=>t.value.findNodeById(e.connection.to.nodeId)?.position),l=u=>u.node&&u.interface&&u.port?[u.node.offsetLeft+u.interface.offsetLeft+u.port.offsetLeft+u.port.clientWidth/2,u.node.offsetTop+u.interface.offsetTop+u.port.offsetTop+u.port.clientHeight/2]:[0,0],a=()=>{const u=gn(e.connection.from),c=gn(e.connection.to);u.node&&c.node&&(n||(n=new ResizeObserver(()=>{a()}),n.observe(u.node),n.observe(c.node)));const[f,d]=l(u),[m,h]=l(c);o.value={x1:f,y1:d,x2:m,y2:h}};return Ht(async()=>{await mn(),a()}),zn(()=>{n&&n.disconnect()}),Ze([i,r],()=>a(),{deep:!0}),{d:o,state:s}}});function Hf(e,t,n,o,s,i){const r=un("connection-view");return I(),me(r,{x1:e.d.x1,y1:e.d.y1,x2:e.d.x2,y2:e.d.y2,state:e.state},null,8,["x1","y1","x2","y2","state"])}const Vl=we(Bf,[["render",Hf]]);function _o(e){return e.node&&e.interface&&e.port?[e.node.offsetLeft+e.interface.offsetLeft+e.port.offsetLeft+e.port.clientWidth/2,e.node.offsetTop+e.interface.offsetTop+e.port.offsetTop+e.port.clientHeight/2]:[0,0]}const Ff=de({components:{"connection-view":Qs},props:{connection:{type:Object,required:!0}},setup(e){const t=V(()=>e.connection?e.connection.status:qe.NONE);return{d:V(()=>{if(!e.connection)return{input:[0,0],output:[0,0]};const o=_o(gn(e.connection.from)),s=e.connection.to?_o(gn(e.connection.to)):[e.connection.mx||o[0],e.connection.my||o[1]];return e.connection.from.isInput?{input:s,output:o}:{input:o,output:s}}),status:t}}});function Gf(e,t,n,o,s,i){const r=un("connection-view");return I(),me(r,{x1:e.d.input[0],y1:e.d.input[1],x2:e.d.output[0],y2:e.d.output[1],state:e.status,"is-temporary":""},null,8,["x1","y1","x2","y2","state"])}const Ul=we(Ff,[["render",Gf]]),Vf=de({setup(){const{viewModel:e}=Be(),{graph:t}=et(),n=W(null),o=lo(e.value.settings.sidebar,"width"),s=V(()=>e.value.settings.sidebar.resizable);let i=0,r=0;const l=V(()=>{const m=t.value.sidebar.nodeId;return t.value.nodes.find(h=>h.id===m)}),a=V(()=>({width:`${o.value}px`})),u=V(()=>l.value?[...Object.values(l.value.inputs),...Object.values(l.value.outputs)].filter(h=>h.displayInSidebar&&h.component):[]),c=()=>{t.value.sidebar.visible=!1},f=m=>{i=o.value,r=m.clientX,window.addEventListener("mousemove",d),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",d)},{once:!0})},d=m=>{const h=n.value?.parentElement?.getBoundingClientRect().width??500,g=m.clientX-r;let y=i-g;y<300?y=300:y>.9*h&&(y=.9*h),o.value=y};return{el:n,graph:t,resizable:s,node:l,styles:a,displayedInterfaces:u,startResize:f,close:c}}}),Uf={class:"__header"},jf={class:"__node-name"};function Wf(e,t,n,o,s,i){return I(),R("div",{ref:"el",class:ke(["baklava-sidebar",{"--open":e.graph.sidebar.visible}]),style:ot(e.styles)},[e.resizable?(I(),R("div",{key:0,class:"__resizer",onMousedown:t[0]||(t[0]=(...r)=>e.startResize&&e.startResize(...r))},null,32)):Ce("",!0),T("div",Uf,[T("button",{tabindex:"-1",class:"__close",onClick:t[1]||(t[1]=(...r)=>e.close&&e.close(...r))},""),T("div",jf,[T("b",null,re(e.node?e.node.title:""),1)])]),(I(!0),R(J,null,be(e.displayedInterfaces,r=>(I(),R("div",{key:r.id,class:"__interface"},[(I(),me(Uo(r.component),{modelValue:r.value,"onUpdate:modelValue":l=>r.value=l,node:e.node,intf:r},null,8,["modelValue","onUpdate:modelValue","node","intf"]))]))),128))],6)}const jl=we(Vf,[["render",Wf]]),Wl=de({__name:"Minimap",setup(e){const{viewModel:t}=Be(),{graph:n}=et(),o=W(null),s=W(!1);let i,r=!1,l={x1:0,y1:0,x2:0,y2:0},a;const u=()=>{if(!i)return;i.canvas.width=o.value.offsetWidth,i.canvas.height=o.value.offsetHeight;const O=new Map,j=new Map;for(const C of n.value.nodes){const F=Lf(C),z=F?.offsetWidth??0,ue=F?.offsetHeight??0,Q=C.position?.x??0,ne=C.position?.y??0;O.set(C,{x1:Q,y1:ne,x2:Q+z,y2:ne+ue}),j.set(C,F)}const A={x1:Number.MAX_SAFE_INTEGER,y1:Number.MAX_SAFE_INTEGER,x2:Number.MIN_SAFE_INTEGER,y2:Number.MIN_SAFE_INTEGER};for(const C of O.values())C.x1<A.x1&&(A.x1=C.x1),C.y1<A.y1&&(A.y1=C.y1),C.x2>A.x2&&(A.x2=C.x2),C.y2>A.y2&&(A.y2=C.y2);const _=50;A.x1-=_,A.y1-=_,A.x2+=_,A.y2+=_,l=A;const P=i.canvas.width/i.canvas.height,L=(l.x2-l.x1)/(l.y2-l.y1);if(P>L){const C=(P-L)*(l.y2-l.y1)*.5;l.x1-=C,l.x2+=C}else{const C=l.x2-l.x1,F=l.y2-l.y1,z=(C-P*F)/P*.5;l.y1-=z,l.y2+=z}i.clearRect(0,0,i.canvas.width,i.canvas.height),i.strokeStyle="white";for(const C of n.value.connections){const[F,z]=_o(gn(C.from)),[ue,Q]=_o(gn(C.to)),[ne,ie]=c(F,z),[Ye,Mt]=c(ue,Q);if(i.beginPath(),i.moveTo(ne,ie),t.value.settings.useStraightConnections)i.lineTo(Ye,Mt);else{const rt=.3*Math.abs(ne-Ye);i.bezierCurveTo(ne+rt,ie,Ye-rt,Mt,Ye,Mt)}i.stroke()}i.strokeStyle="lightgray";for(const[C,F]of O.entries()){const[z,ue]=c(F.x1,F.y1),[Q,ne]=c(F.x2,F.y2);i.fillStyle=d(j.get(C)),i.beginPath(),i.rect(z,ue,Q-z,ne-ue),i.fill(),i.stroke()}if(s.value){const C=h(),[F,z]=c(C.x1,C.y1),[ue,Q]=c(C.x2,C.y2);i.fillStyle="rgba(255, 255, 255, 0.2)",i.fillRect(F,z,ue-F,Q-z)}},c=(O,j)=>[(O-l.x1)/(l.x2-l.x1)*i.canvas.width,(j-l.y1)/(l.y2-l.y1)*i.canvas.height],f=(O,j)=>[O*(l.x2-l.x1)/i.canvas.width+l.x1,j*(l.y2-l.y1)/i.canvas.height+l.y1],d=O=>{if(O){const j=O.querySelector(".__content");if(j){const _=m(j);if(_)return _}const A=m(O);if(A)return A}return"gray"},m=O=>{const j=getComputedStyle(O).backgroundColor;if(j&&j!=="rgba(0, 0, 0, 0)")return j},h=()=>{const O=o.value.parentElement.offsetWidth,j=o.value.parentElement.offsetHeight,A=O/n.value.scaling-n.value.panning.x,_=j/n.value.scaling-n.value.panning.y;return{x1:-n.value.panning.x,y1:-n.value.panning.y,x2:A,y2:_}},g=O=>{O.button===0&&(r=!0,y(O))},y=O=>{if(r){const[j,A]=f(O.offsetX,O.offsetY),_=h(),P=(_.x2-_.x1)/2,L=(_.y2-_.y1)/2;n.value.panning.x=-(j-P),n.value.panning.y=-(A-L)}},b=()=>{r=!1},w=()=>{s.value=!0},S=()=>{s.value=!1,b()};Ze([s,n.value.panning,()=>n.value.scaling,()=>n.value.connections.length],()=>{u()});const M=V(()=>n.value.nodes.map(O=>O.position)),H=V(()=>n.value.nodes.map(O=>O.width));return Ze([M,H],()=>{u()},{deep:!0}),Ht(()=>{i=o.value.getContext("2d"),i.imageSmoothingQuality="high",u(),a=setInterval(u,500)}),zn(()=>{clearInterval(a)}),(O,j)=>(I(),R("canvas",{ref_key:"canvas",ref:o,class:"baklava-minimap",onMouseenter:w,onMouseleave:S,onMousedown:Se(g,["self"]),onMousemove:Se(y,["self"]),onMouseup:b,onContextmenu:j[0]||(j[0]=Se(()=>{},["stop","prevent"]))},null,544))}}),zf=de({components:{ContextMenu:Zo,VerticalDots:Fl},props:{type:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const{viewModel:t}=Be(),{switchGraph:n}=et(),o=W(!1),s=V(()=>e.type.startsWith(Vn));return{showContextMenu:o,hasContextMenu:s,contextMenuItems:[{label:"Edit Subgraph",value:"editSubgraph"},{label:"Delete Subgraph",value:"deleteSubgraph"}],openContextMenu:()=>{o.value=!0},onContextMenuClick:a=>{const u=e.type.substring(Vn.length),c=t.value.editor.graphTemplates.find(f=>f.id===u);if(c)switch(a){case"editSubgraph":n(c);break;case"deleteSubgraph":t.value.editor.removeGraphTemplate(c);break}}}}}),Kf=["data-node-type"],Yf={class:"__title"},Xf={class:"__title-label"},qf={key:0,class:"__menu"};function Zf(e,t,n,o,s,i){const r=un("vertical-dots"),l=un("context-menu");return I(),R("div",{class:"baklava-node --palette","data-node-type":e.type},[T("div",Yf,[T("div",Xf,re(e.title),1),e.hasContextMenu?(I(),R("div",qf,[te(r,{class:"--clickable",onPointerdown:t[0]||(t[0]=Se(()=>{},["stop","prevent"])),onClick:Se(e.openContextMenu,["stop","prevent"])},null,8,["onClick"]),te(l,{modelValue:e.showContextMenu,"onUpdate:modelValue":t[1]||(t[1]=a=>e.showContextMenu=a),x:-100,y:0,items:e.contextMenuItems,onClick:e.onContextMenuClick,onPointerdown:t[2]||(t[2]=Se(()=>{},["stop","prevent"]))},null,8,["modelValue","items","onClick"])])):Ce("",!0)])],8,Kf)}const Ns=we(zf,[["render",Zf]]),Jf={key:0},zl=de({__name:"NodePalette",setup(e){const{viewModel:t}=Be(),{x:n,y:o}=bf(),{transform:s}=Dl(),i=Pl(t),r=Xt("editorEl"),l=W(null),a=V(()=>{if(!l.value||!r?.value)return{};const{left:c,top:f}=r.value.getBoundingClientRect();return{top:`${o.value-f}px`,left:`${n.value-c}px`}}),u=(c,f)=>{l.value={type:c,nodeInformation:f};const d=()=>{const m=Ke(new f.type);t.value.displayedGraph.addNode(m);const h=r.value.getBoundingClientRect(),[g,y]=s(n.value-h.left,o.value-h.top);m.position.x=g,m.position.y=y,l.value=null,document.removeEventListener("pointerup",d)};document.addEventListener("pointerup",d)};return(c,f)=>(I(),R(J,null,[T("div",{class:"baklava-node-palette",onContextmenu:f[0]||(f[0]=Se(()=>{},["stop","prevent"]))},[(I(!0),R(J,null,be(ee(i),d=>(I(),R("section",{key:d.name},[d.name!=="default"?(I(),R("h1",Jf,re(d.name),1)):Ce("",!0),(I(!0),R(J,null,be(d.nodeTypes,(m,h)=>(I(),me(Ns,{key:h,type:h,title:m.title,onPointerdown:g=>u(h,m)},null,8,["type","title","onPointerdown"]))),128))]))),128))],32),te(Xs,{name:"fade"},{default:Jt(()=>[l.value?(I(),R("div",{key:0,class:"baklava-dragged-node",style:ot(a.value)},[te(Ns,{type:l.value.type,title:l.value.nodeInformation.title},null,8,["type","title"])],4)):Ce("",!0)]),_:1})],64))}}),Qf=de({props:{command:{type:String,required:!0},title:{type:String,required:!0},icon:{type:Object,required:!1,default:void 0}},setup(){const{viewModel:e}=Be();return{viewModel:e}}}),ed=["disabled","title"];function td(e,t,n,o,s,i){return I(),R("button",{class:"baklava-toolbar-entry baklava-toolbar-button",disabled:!e.viewModel.commandHandler.canExecuteCommand(e.command),title:e.title,onClick:t[0]||(t[0]=r=>e.viewModel.commandHandler.executeCommand(e.command))},[e.icon?(I(),me(Uo(e.icon),{key:0})):(I(),R(J,{key:1},[zo(re(e.title),1)],64))],8,ed)}const ks=we(Qf,[["render",td]]),Kl=de({__name:"Toolbar",setup(e){const{viewModel:t}=Be(),n=V(()=>t.value.displayedGraph!==t.value.editor.graph),o=V(()=>t.value.settings.toolbar.commands),s=V(()=>t.value.settings.toolbar.subgraphCommands);return(i,r)=>(I(),R("div",{class:"baklava-toolbar",onContextmenu:r[0]||(r[0]=Se(()=>{},["stop","prevent"]))},[(I(!0),R(J,null,be(o.value,l=>(I(),me(ks,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)),n.value?(I(!0),R(J,{key:0},be(s.value,l=>(I(),me(ks,{key:l.command,command:l.command,title:l.title,icon:l.icon},null,8,["command","title","icon"]))),128)):Ce("",!0)],32))}}),nd={class:"connections-container"},od=de({__name:"Editor",props:{viewModel:{}},setup(e){const t=e,n=Symbol("EditorToken"),o=lo(t,"viewModel");tf(o);const s=W(null);Bo("editorEl",s);const i=V(()=>t.viewModel.displayedGraph.nodes),r=V(()=>t.viewModel.displayedGraph.nodes.map(A=>Al(lo(A,"position")))),l=V(()=>t.viewModel.displayedGraph.connections),a=V(()=>t.viewModel.displayedGraph.selectedNodes),u=nf(),c=of(),f=rf(o),d=lf(s),m=V(()=>({...u.styles.value})),h=W(0);t.viewModel.editor.hooks.load.subscribe(n,A=>(h.value++,A));const g=A=>{u.onPointerMove(A),c.onMouseMove(A)},y=A=>{if(A.button===0){if(d.onPointerDown(A))return;A.target===s.value&&(H(),u.onPointerDown(A)),c.onMouseDown()}},b=A=>{u.onPointerUp(A),c.onMouseUp()},w=A=>{A.key==="Tab"&&A.preventDefault(),t.viewModel.commandHandler.handleKeyDown(A)},S=A=>{t.viewModel.commandHandler.handleKeyUp(A)},M=A=>{["Control","Shift"].some(_=>t.viewModel.commandHandler.pressedKeys.includes(_))||H(),t.viewModel.displayedGraph.selectedNodes.push(A)},H=()=>{t.viewModel.displayedGraph.selectedNodes=[]},O=A=>{for(const _ of t.viewModel.displayedGraph.selectedNodes){const P=i.value.indexOf(_),L=r.value[P];L.onPointerDown(A),document.addEventListener("pointermove",L.onPointerMove)}document.addEventListener("pointerup",j)},j=()=>{for(const A of t.viewModel.displayedGraph.selectedNodes){const _=i.value.indexOf(A),P=r.value[_];P.onPointerUp(),document.removeEventListener("pointermove",P.onPointerMove)}document.removeEventListener("pointerup",j)};return(A,_)=>(I(),R("div",{ref_key:"el",ref:s,tabindex:"-1",class:ke(["baklava-editor",{"baklava-ignore-mouse":!!ee(c).temporaryConnection.value||ee(u).dragging.value,"--temporary-connection":!!ee(c).temporaryConnection.value,"--start-selection-box":ee(d).startSelection}]),onPointermove:Se(g,["self"]),onPointerdown:y,onPointerup:b,onWheel:_[1]||(_[1]=Se((...P)=>ee(u).onMouseWheel&&ee(u).onMouseWheel(...P),["self"])),onKeydown:w,onKeyup:S,onContextmenu:_[2]||(_[2]=Se((...P)=>ee(f).open&&ee(f).open(...P),["self"]))},[Ge(A.$slots,"background",{},()=>[te(uf)]),Ge(A.$slots,"toolbar",{},()=>[e.viewModel.settings.toolbar.enabled?(I(),me(Kl,{key:0})):Ce("",!0)]),Ge(A.$slots,"palette",{},()=>[e.viewModel.settings.palette.enabled?(I(),me(zl,{key:0})):Ce("",!0)]),(I(),R("svg",nd,[(I(!0),R(J,null,be(l.value,P=>(I(),R("g",{key:P.id+h.value.toString()},[Ge(A.$slots,"connection",{connection:P},()=>[te(Vl,{connection:P},null,8,["connection"])])]))),128)),Ge(A.$slots,"temporaryConnection",{temporaryConnection:ee(c).temporaryConnection.value},()=>[ee(c).temporaryConnection.value?(I(),me(Ul,{key:0,connection:ee(c).temporaryConnection.value},null,8,["connection"])):Ce("",!0)])])),T("div",{class:"node-container",style:ot(m.value)},[te(Mu,{name:"fade"},{default:Jt(()=>[(I(!0),R(J,null,be(i.value,(P,L)=>Ge(A.$slots,"node",{key:P.id+h.value.toString(),node:P,selected:a.value.includes(P),dragging:r.value[L].dragging.value,onSelect:C=>M(P),onStartDrag:O},()=>[te(Gl,{node:P,selected:a.value.includes(P),dragging:r.value[L].dragging.value,onSelect:C=>M(P),onStartDrag:O},null,8,["node","selected","dragging","onSelect"])])),128))]),_:3})],4),Ge(A.$slots,"sidebar",{},()=>[e.viewModel.settings.sidebar.enabled?(I(),me(jl,{key:0})):Ce("",!0)]),Ge(A.$slots,"minimap",{},()=>[e.viewModel.settings.enableMinimap?(I(),me(Wl,{key:0})):Ce("",!0)]),Ge(A.$slots,"contextMenu",{contextMenu:ee(f)},()=>[e.viewModel.settings.contextMenu.enabled?(I(),me(Zo,{key:0,modelValue:ee(f).show.value,"onUpdate:modelValue":_[0]||(_[0]=P=>ee(f).show.value=P),items:ee(f).items.value,x:ee(f).x.value,y:ee(f).y.value,onClick:ee(f).onClick},null,8,["modelValue","items","x","y","onClick"])):Ce("",!0)]),ee(d).isSelecting?(I(),R("div",{key:0,class:"selection-box",style:ot(ee(d).getStyles())},null,4)):Ce("",!0)],34))}});function sd(e){const t=W([]),n=W([]);return{pressedKeys:t,handleKeyDown:r=>{t.value.includes(r.key)||t.value.push(r.key),!(document.activeElement&&Ol(document.activeElement))&&n.value.forEach(l=>{l.keys.every(a=>t.value.includes(a))&&(l.options?.preventDefault&&r.preventDefault(),l.options?.stopPropagation&&r.stopPropagation(),e(l.commandName))})},handleKeyUp:r=>{const l=t.value.indexOf(r.key);l>=0&&t.value.splice(l,1)},registerHotkey:(r,l,a)=>{n.value.push({keys:r,commandName:l,options:a})}}}const id=()=>{const e=W(new Map),t=r=>e.value.has(r),n=(r,l)=>{if(e.value.has(r))throw new Error(`Command "${r}" already exists`);e.value.set(r,l)},o=(r,l=!1,...a)=>{if(!e.value.has(r)){if(l)throw new Error(`[CommandHandler] Command ${r} not registered`);return}return e.value.get(r).execute(...a)},s=(r,l=!1,...a)=>{if(!e.value.has(r)){if(l)throw new Error(`[CommandHandler] Command ${r} not registered`);return!1}return e.value.get(r).canExecute(a)},i=sd(o);return Ke({hasCommand:t,registerCommand:n,executeCommand:o,canExecuteCommand:s,...i})},Ee=[];for(let e=0;e<256;++e)Ee.push((e+256).toString(16).slice(1));function rd(e,t=0){return(Ee[e[t+0]]+Ee[e[t+1]]+Ee[e[t+2]]+Ee[e[t+3]]+"-"+Ee[e[t+4]]+Ee[e[t+5]]+"-"+Ee[e[t+6]]+Ee[e[t+7]]+"-"+Ee[e[t+8]]+Ee[e[t+9]]+"-"+Ee[e[t+10]]+Ee[e[t+11]]+Ee[e[t+12]]+Ee[e[t+13]]+Ee[e[t+14]]+Ee[e[t+15]]).toLowerCase()}let ps;const ld=new Uint8Array(16);function ad(){if(!ps){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ps=crypto.getRandomValues.bind(crypto)}return ps(ld)}const cd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qi={randomUUID:cd};function ud(e,t,n){e=e||{};const o=e.random??e.rng?.()??ad();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,rd(o)}function wo(e,t,n){return qi.randomUUID&&!e?qi.randomUUID():ud(e)}const Un="SAVE_SUBGRAPH";function fd(e,t){const n=()=>{const o=e.value;if(!o.template)throw new Error("Graph template property not set");o.template.update(o.save()),o.template.panning=o.panning,o.template.scaling=o.scaling};t.registerCommand(Un,{canExecute:()=>e.value!==e.value.editor?.graph,execute:n})}const dd={},pd={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function hd(e,t){return I(),R("svg",pd,[...t[0]||(t[0]=[T("polyline",{points:"6 9 12 15 18 9"},null,-1)])])}const gd=we(dd,[["render",hd]]),md=de({components:{"i-arrow":gd},props:{intf:{type:Object,required:!0}},setup(e){const t=W(null),n=W(!1),o=V(()=>e.intf.items.find(r=>typeof r=="string"?r===e.intf.value:r.value===e.intf.value)),s=V(()=>o.value?typeof o.value=="string"?o.value:o.value.text:""),i=r=>{e.intf.value=typeof r=="string"?r:r.value};return Bl(t,()=>{n.value=!1}),{el:t,open:n,selectedItem:o,selectedText:s,setSelected:i}}}),vd=["title"],yd={class:"__selected"},bd={class:"__text"},_d={class:"__icon"},wd={class:"__dropdown"},xd={class:"item --header"},Cd=["onClick"];function Td(e,t,n,o,s,i){const r=un("i-arrow");return I(),R("div",{ref:"el",class:ke(["baklava-select",{"--open":e.open}]),title:e.intf.name,onClick:t[0]||(t[0]=l=>e.open=!e.open)},[T("div",yd,[T("div",bd,re(e.selectedText),1),T("div",_d,[te(r)])]),te(Xs,{name:"slide-fade"},{default:Jt(()=>[Dt(T("div",wd,[T("div",xd,re(e.intf.name),1),(I(!0),R(J,null,be(e.intf.items,(l,a)=>(I(),R("div",{key:a,class:ke(["item",{"--active":l===e.selectedItem}]),onClick:u=>e.setSelected(l)},re(typeof l=="string"?l:l.text),11,Cd))),128))],512),[[Sl,e.open]])]),_:1})],10,vd)}const Id=we(md,[["render",Td]]);class Sd extends ze{constructor(t,n,o){super(t,n),this.component=xe(Id),this.items=o}}const Md=de({props:{intf:{type:Object,required:!0}}});function Ed(e,t,n,o,s,i){return I(),R("div",null,re(e.intf.value),1)}const Nd=we(Md,[["render",Ed]]);class Tn extends ze{constructor(t,n){super(t,n),this.component=xe(Nd),this.setPort(!1)}}const kd=de({props:{intf:{type:Object,required:!0},modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){return{v:V({get:()=>e.modelValue,set:o=>{t("update:modelValue",o)}})}}}),$d=["placeholder","title"];function Od(e,t,n,o,s,i){return I(),R("div",null,[Dt(T("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.v=r),type:"text",class:"baklava-input",placeholder:e.intf.name,title:e.intf.name},null,8,$d),[[Gn,e.v]])])}const Ad=we(kd,[["render",Od]]);class xo extends ze{constructor(){super(...arguments),this.component=xe(Ad)}}class Yl extends qs{constructor(){super(...arguments),this._title="Subgraph Input",this.inputs={name:new xo("Name","Input").setPort(!1)},this.outputs={placeholder:new ze("Connection",void 0)}}}class Xl extends Zs{constructor(){super(...arguments),this._title="Subgraph Output",this.inputs={name:new xo("Name","Output").setPort(!1),placeholder:new ze("Connection",void 0)},this.outputs={output:new ze("Output",void 0).setHidden(!0)}}}const ql="CREATE_SUBGRAPH",Zi=[dn,pn];function Rd(e,t,n){const o=()=>e.value.selectedNodes.filter(i=>!Zi.includes(i.type)).length>0,s=()=>{const{viewModel:i}=Be(),r=e.value,l=e.value.editor;if(r.selectedNodes.length===0)return;const a=r.selectedNodes.filter(_=>!Zi.includes(_.type)),u=a.flatMap(_=>Object.values(_.inputs)),c=a.flatMap(_=>Object.values(_.outputs)),f=r.connections.filter(_=>!c.includes(_.from)&&u.includes(_.to)),d=r.connections.filter(_=>c.includes(_.from)&&!u.includes(_.to)),m=r.connections.filter(_=>c.includes(_.from)&&u.includes(_.to)),h=a.map(_=>_.save()),g=m.map(_=>({id:_.id,from:_.from.id,to:_.to.id})),y=new Map,{xLeft:b,xRight:w,yTop:S}=Pd(a);for(const[_,P]of f.entries()){const L=new Yl;L.inputs.name.value=P.to.name,h.push({...L.save(),position:{x:w-i.value.settings.nodes.defaultWidth-100,y:S+_*200}}),g.push({id:wo(),from:L.outputs.placeholder.id,to:P.to.id}),y.set(P.to.id,L.graphInterfaceId)}for(const[_,P]of d.entries()){const L=new Xl;L.inputs.name.value=P.from.name,h.push({...L.save(),position:{x:b+100,y:S+_*200}}),g.push({id:wo(),from:P.from.id,to:L.inputs.placeholder.id}),y.set(P.from.id,L.graphInterfaceId)}const M=Ke(new qo({connections:g,nodes:h,inputs:[],outputs:[]},l));l.addGraphTemplate(M);const H=l.nodeTypes.get(hn(M));if(!H)throw new Error("Unable to create subgraph: Could not find corresponding graph node type");r.activeTransactions++;const O=Ke(new H.type);r.addNode(O);const j=Math.round(a.map(_=>_.position.x).reduce((_,P)=>_+P,0)/a.length),A=Math.round(a.map(_=>_.position.y).reduce((_,P)=>_+P,0)/a.length);O.position.x=j,O.position.y=A,f.forEach(_=>{r.removeConnection(_),r.addConnection(_.from,O.inputs[y.get(_.to.id)])}),d.forEach(_=>{r.removeConnection(_),r.addConnection(O.outputs[y.get(_.from.id)],_.to)}),a.forEach(_=>r.removeNode(_)),r.activeTransactions--,t.canExecuteCommand(Un)&&t.executeCommand(Un),n(M),e.value.panning={...r.panning},e.value.scaling=r.scaling};t.registerCommand(ql,{canExecute:o,execute:s})}function Pd(e){const t=e.reduce((s,i)=>{const r=i.position.x;return r<s?r:s},1/0),n=e.reduce((s,i)=>{const r=i.position.y;return r<s?r:s},1/0);return{xLeft:e.reduce((s,i)=>{const r=i.position.x+i.width;return r>s?r:s},-1/0),xRight:t,yTop:n}}class Ji{constructor(t,n){this.type=t,t==="addNode"?this.nodeId=n:this.nodeState=n}undo(t){this.type==="addNode"?this.removeNode(t):this.addNode(t)}redo(t){this.type==="addNode"&&this.nodeState?this.addNode(t):this.type==="removeNode"&&this.nodeId&&this.removeNode(t)}addNode(t){const n=t.editor.nodeTypes.get(this.nodeState.type);if(!n)return;const o=new n.type;t.addNode(o),o.load(this.nodeState),this.nodeId=o.id}removeNode(t){const n=t.nodes.find(o=>o.id===this.nodeId);n&&(this.nodeState=n.save(),t.removeNode(n))}}class Qi{constructor(t,n){if(this.type=t,t==="addConnection")this.connectionId=n;else{const o=n;this.connectionState={id:o.id,from:o.from.id,to:o.to.id}}}undo(t){this.type==="addConnection"?this.removeConnection(t):this.addConnection(t)}redo(t){this.type==="addConnection"&&this.connectionState?this.addConnection(t):this.type==="removeConnection"&&this.connectionId&&this.removeConnection(t)}addConnection(t){const n=t.findNodeInterface(this.connectionState.from),o=t.findNodeInterface(this.connectionState.to);if(!n||!o)return;const s=t.addConnection(n,o);s&&(s.id=this.connectionState.id),this.connectionId=s?.id}removeConnection(t){const n=t.connections.find(o=>o.id===this.connectionId);n&&(this.connectionState={id:n.id,from:n.from.id,to:n.to.id},t.removeConnection(n))}}class Dd{constructor(t){if(this.type="transaction",t.length===0)throw new Error("Can't create a transaction with no steps");this.steps=t}undo(t){for(let n=this.steps.length-1;n>=0;n--)this.steps[n].undo(t)}redo(t){for(let n=0;n<this.steps.length;n++)this.steps[n].redo(t)}}const $s="UNDO",Os="REDO",ei="START_TRANSACTION",ti="COMMIT_TRANSACTION",Ld="CLEAR_HISTORY";function Bd(e,t){const n=Symbol("HistoryToken"),o=W(200),s=W([]),i=W(!1),r=W(-1),l=W(!1),a=W([]),u=b=>{if(!i.value)if(l.value)a.value.push(b);else{for(r.value!==s.value.length-1&&(s.value=s.value.slice(0,r.value+1)),s.value.push(b);s.value.length>o.value;)s.value.shift();r.value=s.value.length-1}},c=()=>{l.value=!0},f=()=>{l.value=!1,a.value.length>0&&(u(new Dd(a.value)),a.value=[])},d=()=>s.value.length!==0&&r.value!==-1,m=()=>{d()&&(i.value=!0,s.value[r.value--].undo(e.value),i.value=!1)},h=()=>s.value.length!==0&&r.value<s.value.length-1,g=()=>{h()&&(i.value=!0,s.value[++r.value].redo(e.value),i.value=!1)},y=()=>{s.value=[],r.value=-1};return Ze(e,(b,w)=>{w&&(w.events.addNode.unsubscribe(n),w.events.removeNode.unsubscribe(n),w.events.addConnection.unsubscribe(n),w.events.removeConnection.unsubscribe(n)),b&&(b.events.addNode.subscribe(n,S=>{u(new Ji("addNode",S.id))}),b.events.removeNode.subscribe(n,S=>{u(new Ji("removeNode",S.save()))}),b.events.addConnection.subscribe(n,S=>{u(new Qi("addConnection",S.id))}),b.events.removeConnection.subscribe(n,S=>{u(new Qi("removeConnection",S))}))},{immediate:!0}),t.registerCommand($s,{canExecute:d,execute:m}),t.registerCommand(Os,{canExecute:h,execute:g}),t.registerCommand(ei,{canExecute:()=>!l.value,execute:c}),t.registerCommand(ti,{canExecute:()=>l.value,execute:f}),t.registerCommand(Ld,{canExecute:()=>s.value.length>0,execute:y}),t.registerHotkey(["Control","z"],$s),t.registerHotkey(["Control","y"],Os),Ke({maxSteps:o})}const As="DELETE_NODES";function Hd(e,t){t.registerCommand(As,{canExecute:()=>e.value.selectedNodes.length>0,execute(){t.executeCommand(ei);for(let n=e.value.selectedNodes.length-1;n>=0;n--){const o=e.value.selectedNodes[n];e.value.removeNode(o)}t.executeCommand(ti)}}),t.registerHotkey(["Delete"],As)}const Zl="SWITCH_TO_MAIN_GRAPH";function Fd(e,t,n){t.registerCommand(Zl,{canExecute:()=>e.value!==e.value.editor.graph,execute:()=>{t.executeCommand(Un),n(e.value.editor.graph)}})}const Gd=e=>!(e instanceof Xo);function Vd(e,t){return{switchGraph:o=>{let s;if(Gd(o))s=new Xo(e.value),o.createGraph(s);else{if(o!==e.value.graph)throw new Error("Can only switch using 'Graph' instance when it is the root graph. Otherwise a 'GraphTemplate' must be used.");s=o}t.value&&t.value!==e.value.graph&&t.value.destroy(),s.panning=s.panning??o.panning??{x:0,y:0},s.scaling=s.scaling??o.scaling??1,s.selectedNodes=s.selectedNodes??[],s.sidebar=s.sidebar??{visible:!1,nodeId:"",optionName:""},t.value=s}}}function Ud(e,t,n){Hd(e,t),Rd(e,t,n),fd(e,t),Fd(e,t,n)}const Rs="COPY",Ps="PASTE",jd="CLEAR_CLIPBOARD";function Wd(e,t,n){const o=Symbol("ClipboardToken"),s=W(""),i=W(""),r=V(()=>!s.value),l=()=>{s.value="",i.value=""},a=()=>{const f=e.value.selectedNodes.flatMap(m=>[...Object.values(m.inputs),...Object.values(m.outputs)]),d=e.value.connections.filter(m=>f.includes(m.from)||f.includes(m.to)).map(m=>({from:m.from.id,to:m.to.id}));i.value=JSON.stringify(d),s.value=JSON.stringify(e.value.selectedNodes.map(m=>m.save()))},u=(f,d,m)=>{for(const h of f){let g;if((!m||m==="input")&&(g=Object.values(h.inputs).find(y=>y.id===d)),!g&&(!m||m==="output")&&(g=Object.values(h.outputs).find(y=>y.id===d)),g)return g}},c=()=>{if(r.value)return;const f=new Map,d=JSON.parse(s.value),m=JSON.parse(i.value),h=[],g=[],y=e.value;n.executeCommand(ei);for(const b of d){const w=t.value.nodeTypes.get(b.type);if(!w){console.warn(`Node type ${b.type} not registered`);return}const S=new w.type,M=S.id;h.push(S),S.hooks.beforeLoad.subscribe(o,H=>{const O=H;return O.position&&(O.position.x+=100,O.position.y+=100),S.hooks.beforeLoad.unsubscribe(o),O}),y.addNode(S),S.load({...b,id:M}),S.id=M,f.set(b.id,M);for(const H of Object.values(S.inputs)){const O=wo();f.set(H.id,O),H.id=O}for(const H of Object.values(S.outputs)){const O=wo();f.set(H.id,O),H.id=O}}for(const b of m){const w=u(h,f.get(b.from),"output"),S=u(h,f.get(b.to),"input");if(!w||!S)continue;const M=y.addConnection(w,S);M&&g.push(M)}return e.value.selectedNodes=h,n.executeCommand(ti),{newNodes:h,newConnections:g}};return n.registerCommand(Rs,{canExecute:()=>e.value.selectedNodes.length>0,execute:a}),n.registerHotkey(["Control","c"],Rs),n.registerCommand(Ps,{canExecute:()=>!r.value,execute:c}),n.registerHotkey(["Control","v"],Ps),n.registerCommand(jd,{canExecute:()=>!0,execute:l}),Ke({isEmpty:r})}function zd(e,t){e.position=e.position??{x:0,y:0},e.disablePointerEvents=!1,e.twoColumn=e.twoColumn??!1,e.width=e.width??t.defaultWidth}const Kd="OPEN_SIDEBAR";function Yd(e,t){t.registerCommand(Kd,{execute:n=>{e.value.sidebar.nodeId=n,e.value.sidebar.visible=!0},canExecute:()=>!0})}function Xd(e,t){Yd(e,t)}const qd="ZOOM_TO_FIT_RECT",Zd="ZOOM_TO_FIT_NODES",Ds="ZOOM_TO_FIT_GRAPH";function Jd(e,t,n){t.registerCommand(qd,{canExecute:()=>!0,execute:o=>Jl(e.value,n,o)}),t.registerCommand(Zd,{canExecute:()=>!0,execute:o=>Ql(e.value,n,o)}),t.registerCommand(Ds,{canExecute:()=>e.value.nodes.length>0,execute:()=>Qd(e.value,n)}),t.registerHotkey(["f"],Ds)}function Jl(e,t,n){const o={left:t.zoomToFit.paddingLeft,right:t.zoomToFit.paddingRight,top:t.zoomToFit.paddingTop,bottom:t.zoomToFit.paddingBottom},i=document.querySelector(".baklava-editor").getBoundingClientRect(),r=Math.max(0,i.width-o.left-o.right),l=Math.max(0,i.height-o.top-o.bottom);n=tp(n);const a=n.x2-n.x1,u=n.y2-n.y1,c=a===0?1/0:r/a,f=u==0?1/0:l/u;let d=Math.min(c,f);(d===0||!Number.isFinite(d))&&(d=1),d<t.panZoom.minScale&&(d=t.panZoom.minScale),d>t.panZoom.maxScale&&(d=t.panZoom.maxScale);const m=Math.max(0,r/d-a),h=Math.max(0,l/d-u),g=-n.x1+o.left/d+m/2,y=-n.y1+o.top/d+h/2;e.panning.x=g,e.panning.y=y,e.scaling=d}function Ql(e,t,n){if(n.length===0)return;const o=n.map(ep),s={x1:Math.min(...o.map(i=>i.x1)),y1:Math.min(...o.map(i=>i.y1)),x2:Math.max(...o.map(i=>i.x2)),y2:Math.max(...o.map(i=>i.y2))};Jl(e,t,s)}function Qd(e,t){Ql(e,t,e.nodes)}function ep(e){const t=document.getElementById(e.id),n=t?.offsetWidth??0,o=t?.offsetHeight??0,s=e.position?.x??0,i=e.position?.y??0;return{x1:s,y1:i,x2:s+n,y2:i+o}}function tp(e){return{x1:Math.min(e.x1,e.x2),y1:Math.min(e.y1,e.y2),x2:Math.max(e.x1,e.x2),y2:Math.max(e.y1,e.y2)}}const np={},op={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function sp(e,t){return I(),R("svg",op,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("path",{d:"M9 13l-4 -4l4 -4m-4 4h11a4 4 0 0 1 0 8h-1"},null,-1)])])}const ip=we(np,[["render",sp]]),rp={},lp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function ap(e,t){return I(),R("svg",lp,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("path",{d:"M15 13l4 -4l-4 -4m4 4h-11a4 4 0 0 0 0 8h1"},null,-1)])])}const cp=we(rp,[["render",ap]]),up={},fp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function dp(e,t){return I(),R("svg",fp,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1),T("line",{x1:"5",y1:"12",x2:"11",y2:"18"},null,-1),T("line",{x1:"5",y1:"12",x2:"11",y2:"6"},null,-1)])])}const pp=we(up,[["render",dp]]),hp={},gp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function mp(e,t){return I(),R("svg",gp,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},null,-1),T("rect",{x:"9",y:"3",width:"6",height:"4",rx:"2"},null,-1)])])}const vp=we(hp,[["render",mp]]),yp={},bp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function _p(e,t){return I(),R("svg",bp,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("rect",{x:"8",y:"8",width:"12",height:"12",rx:"2"},null,-1),T("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"},null,-1)])])}const wp=we(yp,[["render",_p]]),xp={},Cp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function Tp(e,t){return I(),R("svg",Cp,[...t[0]||(t[0]=[T("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),T("path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2"},null,-1),T("circle",{cx:"12",cy:"14",r:"2"},null,-1),T("polyline",{points:"14 4 14 8 8 8 8 4"},null,-1)])])}const Ip=we(xp,[["render",Tp]]),Sp={},Mp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function Ep(e,t){return I(),R("svg",Mp,[...t[0]||(t[0]=[Ko('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 3h4v4h-4z"></path><path d="M3 17h4v4h-4z"></path><path d="M17 17h4v4h-4z"></path><path d="M7 17l5 -4l5 4"></path><line x1="12" y1="7" x2="12" y2="13"></line>',6)])])}const Np=we(Sp,[["render",Ep]]),kp={},$p={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function Op(e,t){return I(),R("svg",$p,[...t[0]||(t[0]=[Ko('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M8 8m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z"></path><path d="M12 20v.01"></path><path d="M16 20v.01"></path><path d="M8 20v.01"></path><path d="M4 20v.01"></path><path d="M4 16v.01"></path><path d="M4 12v.01"></path><path d="M4 8v.01"></path><path d="M4 4v.01"></path><path d="M8 4v.01"></path><path d="M12 4v.01"></path><path d="M16 4v.01"></path><path d="M20 4v.01"></path><path d="M20 8v.01"></path><path d="M20 12v.01"></path><path d="M20 16v.01"></path><path d="M20 20v.01"></path>',18)])])}const Ap=we(kp,[["render",Op]]),Rp={},Pp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function Dp(e,t){return I(),R("svg",Pp,[...t[0]||(t[0]=[Ko('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 7l16 0"></path><path d="M10 11l0 6"></path><path d="M14 11l0 6"></path><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>',6)])])}const Lp=we(Rp,[["render",Dp]]),Bp={},Hp={xmlns:"http://www.w3.org/2000/svg",class:"baklava-icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"};function Fp(e,t){return I(),R("svg",Hp,[...t[0]||(t[0]=[Ko('<path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 8v-2a2 2 0 0 1 2 -2h2"></path><path d="M4 16v2a2 2 0 0 0 2 2h2"></path><path d="M16 4h2a2 2 0 0 1 2 2v2"></path><path d="M16 20h2a2 2 0 0 0 2 -2v-2"></path><path d="M8 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path><path d="M16 16l-2.5 -2.5"></path>',7)])])}const Gp=we(Bp,[["render",Fp]]),Vp={COPY:{command:Rs,title:"Copy",icon:xe(wp)},PASTE:{command:Ps,title:"Paste",icon:xe(vp)},DELETE_NODES:{command:As,title:"Delete selected nodes",icon:xe(Lp)},UNDO:{command:$s,title:"Undo",icon:xe(ip)},REDO:{command:Os,title:"Redo",icon:xe(cp)},ZOOM_TO_FIT_GRAPH:{command:Ds,title:"Zoom to Fit",icon:xe(Gp)},START_SELECTION_BOX:{command:so,title:"Box Select",icon:xe(Ap)},CREATE_SUBGRAPH:{command:ql,title:"Create Subgraph",icon:xe(Np)}},Up=Object.values(Vp),jp={SAVE_SUBGRAPH:{command:Un,title:"Save Subgraph",icon:xe(Ip)},SWITCH_TO_MAIN_GRAPH:{command:Zl,title:"Back to Main Graph",icon:xe(pp)}},Wp=Object.values(jp),zp=()=>({useStraightConnections:!1,enableMinimap:!1,toolbar:{enabled:!0,commands:Up,subgraphCommands:Wp},palette:{enabled:!0},background:{gridSize:100,gridDivision:5,subGridVisibleThreshold:.6},sidebar:{enabled:!0,width:300,resizable:!0},displayValueOnHover:!1,nodes:{defaultWidth:200,maxWidth:320,minWidth:150,resizable:!1,reverseY:!1},contextMenu:{enabled:!0,additionalItems:[]},panZoom:{minScale:.05,maxScale:10},zoomToFit:{paddingLeft:300,paddingRight:50,paddingTop:110,paddingBottom:50}});function Kp(e){const t=W(new Qu),n=Symbol("ViewModelToken"),o=W(null),s=Va(o),{switchGraph:i}=Vd(t,o),r=V(()=>s.value&&s.value!==t.value.graph),l=Ke(zp()),a=id(),u=Bd(s,a),c=Wd(s,t,a),f={renderNode:new Qe(null),renderInterface:new Qe(null)};return Ud(s,a,i),Xd(s,a),Jd(s,a,l),Ze(t,(d,m)=>{m&&(m.events.registerGraph.unsubscribe(n),m.graphEvents.beforeAddNode.unsubscribe(n),d.nodeHooks.beforeLoad.unsubscribe(n),d.nodeHooks.afterSave.unsubscribe(n),d.graphTemplateHooks.beforeLoad.unsubscribe(n),d.graphTemplateHooks.afterSave.unsubscribe(n),d.graph.hooks.load.unsubscribe(n),d.graph.hooks.save.unsubscribe(n)),d&&(d.nodeHooks.beforeLoad.subscribe(n,(h,g)=>(g.position=h.position??{x:0,y:0},g.width=h.width??l.nodes.defaultWidth,g.twoColumn=h.twoColumn??!1,h)),d.nodeHooks.afterSave.subscribe(n,(h,g)=>(h.position=g.position,h.width=g.width,h.twoColumn=g.twoColumn,h)),d.graphTemplateHooks.beforeLoad.subscribe(n,(h,g)=>(g.panning=h.panning,g.scaling=h.scaling,h)),d.graphTemplateHooks.afterSave.subscribe(n,(h,g)=>(h.panning=g.panning,h.scaling=g.scaling,h)),d.graph.hooks.load.subscribe(n,(h,g)=>(g.panning=h.panning,g.scaling=h.scaling,h)),d.graph.hooks.save.subscribe(n,(h,g)=>(h.panning=g.panning,h.scaling=g.scaling,h)),d.graphEvents.beforeAddNode.subscribe(n,h=>zd(h,{defaultWidth:l.nodes.defaultWidth})),t.value.registerNodeType(Yl,{category:"Subgraphs"}),t.value.registerNodeType(Xl,{category:"Subgraphs"}),i(d.graph))},{immediate:!0}),Ke({editor:t,displayedGraph:s,isSubgraph:r,settings:l,commandHandler:a,history:u,clipboard:c,hooks:f,switchGraph:i})}const er=Object.freeze(Object.defineProperty({__proto__:null,Connection:Qs,ConnectionWrapper:Vl,ContextMenu:Zo,Minimap:Wl,Node:Gl,NodeInterface:Es,NodePalette:zl,PaletteEntry:Ns,Sidebar:jl,TemporaryConnection:Ul,Toolbar:Kl,ToolbarButton:ks},Symbol.toStringTag,{value:"Module"})),Yp=["id","data-node-type"],Xp={class:"__title-label"},qp={class:"__menu"},Zp={class:"__outputs"},Jp={class:"__inputs-section"},Qp={class:"__attrs"},eh={key:0,class:"func-grid"},th={class:"func-title"},nh={class:"__desc"},oh=de({__name:"CustomNode",props:{node:{},selected:{type:Boolean},dragging:{type:Boolean},onSelect:{type:Function},onStartDrag:{type:Function}},setup(e){const t=W(0);Bo("triggerDynamicInputsUpdate",()=>{t.value+=1});const n=e,{viewModel:o}=Be(),s=W(!1),i=W(""),r=W(null),l=W(!1),a=V(()=>[{value:"rename",label:"Rename"},{value:"delete",label:"Delete"}]),u=()=>{l.value=!0},c=()=>{s.value=!1,i.value.trim()&&(n.node.title=i.value.trim())},f=async L=>{switch(L){case"delete":o.value.displayedGraph.removeNode(n.node);break;case"rename":i.value=n.node.title,s.value=!0,await mn(),r.value?.focus();break}},d=V(()=>Object.values(n.node.outputs||{}).filter(L=>!L.hidden)),m=V(()=>(t.value,Object.values(n.node.inputs||{}).filter(L=>!L.hidden))),h=L=>m.value.filter(C=>C.__section===L),g=V(()=>d.value),y=V(()=>h("input")),b=V(()=>h("attr")),w=V(()=>n.node.type==="feComponentTransfer"),S=L=>{const C=[];let F=null;return L.forEach(z=>{if(z.__isGroup){F={id:z.id,label:z.name||"",items:[]},C.push(F);return}F||(F={id:"default",label:"",items:[]},C.push(F)),F.items.push(z)}),C},M=V(()=>S(b.value).filter(L=>L.label!=="")),H=V(()=>h("desc")),O=V(()=>({"--selected":n.selected,"--dragging":n.dragging})),j=V(()=>({"--reverse-y":n.node.reverseY??o.value.settings.nodes.reverseY})),A=V(()=>({top:`${n.node.position?.y??0}px`,left:`${n.node.position?.x??0}px`,"--width":`${n.node.width??o.value.settings.nodes.defaultWidth}px`})),_=er.NodeInterface,P=er.ContextMenu;return(L,C)=>(I(),R("div",{id:e.node.id,class:ke(["baklava-node",O.value]),"data-node-type":e.node.type,style:ot(A.value),onPointerdown:C[3]||(C[3]=(...F)=>e.onSelect&&e.onSelect(...F))},[T("div",{class:"__title",onPointerdown:C[2]||(C[2]=Se(F=>{e.onSelect(F),e.onStartDrag(F)},["stop"])),onContextmenu:Se(u,["prevent"])},[s.value?Dt((I(),R("input",{key:1,ref_key:"renameInputEl",ref:r,"onUpdate:modelValue":C[1]||(C[1]=F=>i.value=F),type:"text",class:"baklava-input",placeholder:"Node Name",onBlur:c,onKeydown:Is(c,["enter"])},null,544)),[[Gn,i.value]]):(I(),R(J,{key:0},[T("div",Xp,re(e.node.title),1),T("div",qp,[T("button",{type:"button",class:"baklava-toolbar-entry baklava-toolbar-button --clickable",title:"",onClick:Se(u,["stop","prevent"])},""),te(ee(P),{"model-value":l.value,items:a.value,x:0,y:0,"onUpdate:modelValue":C[0]||(C[0]=F=>l.value=F),onClick:f},null,8,["model-value","items"])])],64))],32),T("div",{class:ke(["__content",j.value])},[T("div",Zp,[(I(!0),R(J,null,be(g.value,F=>(I(),me(ee(_),{key:F.id,node:e.node,intf:F},null,8,["node","intf"]))),128))]),T("div",Jp,[(I(!0),R(J,null,be(y.value,F=>(I(),me(ee(_),{key:F.id,node:e.node,intf:F},null,8,["node","intf"]))),128))]),T("div",Qp,[w.value?(I(),R("div",eh,[(I(!0),R(J,null,be(M.value,F=>(I(),R("div",{key:F.id,class:"func-group"},[T("div",th,re(F.label),1),(I(!0),R(J,null,be(F.items,z=>(I(),me(ee(_),{key:z.id,node:e.node,intf:z},null,8,["node","intf"]))),128))]))),128))])):(I(!0),R(J,{key:1},be(b.value,F=>(I(),me(ee(_),{key:F.id,node:e.node,intf:F},null,8,["node","intf"]))),128))]),T("div",nh,[(I(!0),R(J,null,be(H.value,F=>(I(),me(ee(_),{key:F.id,node:e.node,intf:F},null,8,["node","intf"]))),128))])],2)],46,Yp))}}),sh={class:"selector-list"},ih={key:0,class:"selector-hint"},rh=["onUpdate:modelValue"],lh=["onClick"],ah={class:"preview-wrap"},ch=["innerHTML"],uh={class:"filter-defs","aria-hidden":"true"},fh=["id","innerHTML"],tr="svgfilter-preview",nr=`<style>
  .demo {
    width: 100%;
    background: url("https://picsum.photos/600/400") center center /cover no-repeat;
    display: flex;
    flex-direction: column;
    gap: 1em;
    align-items: center;
    justify-content: center;
    color: #fff;
    * {
      text-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
  }
  .card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    width: 80%;
    height: 80%;
    padding: 1em;
    border-radius: 28px;
    isolation: isolate;
    box-shadow: 0px 0px 21px -8px rgba(255, 255, 255, 0.3);
    cursor: pointer;
    &:before {
      content: '';
      position: absolute;
      inset: 0;
      z-index: 0;
      border-radius: 28px;
      box-shadow: inset 0 0 14px -4px rgba(255, 255, 255, 0.7);
      background-color: rgba(255, 255, 255, 0);
      pointer-events: none;
    }
    &:after {
      content: '';
      position: absolute;
      inset: 0;
      z-index: -1;
      border-radius: 28px;
      backdrop-filter: blur(22px);
      isolation: isolate;
      pointer-events: none;
    }
    .pill {
      background: rgba(255,255,255,0.1);
      padding: 0.2em 0.5em;
      border-radius: 1em;
      cursor: pointer;
      border: none;
      outline: none;
      text-align: center;
      align-self: flex-end;
    }
    .title {
      font-size: 1.5em;
      font-weight: 600;
      margin: 1em 0;
    }
    .button {
      color: #fff;
      background: rgba(255,255,255,0.1);
      padding: 0.5em 1em;
      border-radius: 1em;
      cursor: pointer;
      border: none;
      outline: none;
      &:hover {
        background: rgba(255,255,255,0.3);
      }
    }
  }
  </style>
  <div class="demo">
    <div class="card">
      <div class="pill">Pill</div>
      <h3 class="title">Card</h3>
      <button class="button">Button</button>
    </div>
  </div>`,dh=de({__name:"PreviewPane",props:{filterId:{},filterMarkup:{},onClearEditor:{type:Function,default:void 0}},setup(e){const t=[".card:after"];function n(){try{const h=localStorage.getItem(tr);if(!h)return null;const g=JSON.parse(h);return typeof g.previewHtml!="string"||!Array.isArray(g.selectors)?null:{previewHtml:g.previewHtml,selectors:g.selectors}}catch{return null}}function o(h,g){try{localStorage.setItem(tr,JSON.stringify({previewHtml:h,selectors:g}))}catch{}}const s=e,i=W(nr),r=W([...t]);Ht(()=>{const h=n();h&&(i.value=h.previewHtml,r.value=h.selectors.length?h.selectors:[""])});let l;Ze([i,r],()=>{l!==void 0&&window.clearTimeout(l),l=window.setTimeout(()=>{l=void 0,o(i.value,r.value)},400)},{deep:!0});const a=V(()=>r.value.map(h=>h.trim()).filter(Boolean)),u=V(()=>a.value.length===0?`#preview { filter: url(#${s.filterId}); }`:`${a.value.map(g=>`#preview ${g}`).join(", ")} { filter: url(#${s.filterId}); }`),c=()=>{r.value.push("")},f=h=>{r.value.splice(h,1)},d=()=>{i.value="",r.value=[""],s.onClearEditor?.()},m=()=>{i.value=nr,r.value=[...t]};return(h,g)=>(I(),R(J,null,[T("div",{class:"html-header"},[g[1]||(g[1]=T("div",{class:"pane-title"},"HTML ",-1)),T("div",{class:"html-actions"},[T("button",{type:"button",class:"action-button",onClick:d},""),T("button",{type:"button",class:"action-button",onClick:m},"")])]),Dt(T("textarea",{"onUpdate:modelValue":g[0]||(g[0]=y=>i.value=y),class:"html-input"},null,512),[[Gn,i.value]]),g[2]||(g[2]=T("div",{class:"pane-title"},"",-1)),T("div",sh,[r.value.length===0?(I(),R("div",ih,"  #preview  ")):Ce("",!0),(I(!0),R(J,null,be(r.value,(y,b)=>(I(),R("div",{key:b,class:"selector-row"},[Dt(T("input",{"onUpdate:modelValue":w=>r.value[b]=w,class:"selector-input",placeholder:" .button  #logo"},null,8,rh),[[Gn,r.value[b]]]),T("button",{type:"button",class:"selector-button",onClick:w=>f(b)},"  ",8,lh)]))),128)),T("button",{type:"button",class:"selector-button add",onClick:c},"  ")]),g[3]||(g[3]=T("div",{class:"pane-title"},"",-1)),T("div",ah,[T("div",{id:"preview",innerHTML:i.value},null,8,ch),(I(),me(Uo("style"),null,{default:Jt(()=>[zo(re(u.value),1)]),_:1})),(I(),R("svg",uh,[T("defs",null,[T("filter",{id:e.filterId,innerHTML:e.filterMarkup},null,8,fh)])]))])],64))}}),Qt=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},ph=Qt(dh,[["__scopeId","data-v-e0c2de5e"]]),hh={class:"pane-title filter-code-header"},gh=["title"],mh=["value","readonly"],vh=de({__name:"FilterCodePane",props:{filterCodeText:{},isCodeReadonly:{type:Boolean},copyCodeFeedback:{type:Boolean},showApplyButton:{type:Boolean}},emits:["update:filterCodeText","toggleEdit","copy","apply"],setup(e,{expose:t}){const n=W(null);return t({editToggleEl:n}),(o,s)=>(I(),R(J,null,[T("div",hh,[s[3]||(s[3]=T("span",null,"",-1)),T("button",{ref_key:"editToggleEl",ref:n,type:"button",class:"filter-code-edit-toggle",title:e.isCodeReadonly?"":""},re(e.isCodeReadonly?" ":" "),9,gh),T("button",{type:"button",class:ke(["filter-code-copy",{"copy-done":e.copyCodeFeedback}]),onClick:s[0]||(s[0]=i=>o.$emit("copy"))},re(e.copyCodeFeedback?"":""),3),e.showApplyButton?(I(),R("button",{key:0,type:"button",class:"filter-code-apply",onClick:s[1]||(s[1]=i=>o.$emit("apply"))},"  ")):Ce("",!0)]),T("textarea",{value:e.filterCodeText,readonly:e.isCodeReadonly,class:"filter-code",spellcheck:"false",onInput:s[2]||(s[2]=i=>o.$emit("update:filterCodeText",i.target.value))},null,40,mh)],64))}});function yh(e){const{getFullCode:t,saveState:n,syncInterval:o=300,saveInterval:s=800,getEditButton:i}=e,r=W(!0),l=W(""),a=W(!1);let u,c,f;function d(){r.value=!r.value,r.value||(l.value=t())}async function m(g){const y=l.value.trim()||g();if(y)try{await navigator.clipboard.writeText(y),a.value=!0,setTimeout(()=>a.value=!1,1500)}catch{alert("")}}function h(g){l.value=g,r.value=!0}return Ht(()=>{const g=()=>{r.value&&(l.value=t())};g(),u=window.setInterval(g,o),c=window.setInterval(n,s),window.addEventListener("beforeunload",n),mn(()=>{const y=i?.();if(y){const b=w=>{w.preventDefault(),w.stopPropagation(),w.stopImmediatePropagation(),d()};y.addEventListener("pointerdown",b,!0),f=()=>y.removeEventListener("pointerdown",b,!0)}})}),Vo(()=>{f?.(),u&&window.clearInterval(u),c&&window.clearInterval(c),window.removeEventListener("beforeunload",n)}),{isCodeReadonly:r,filterCodeText:l,copyCodeFeedback:a,toggleCodeEdit:d,copyCode:m,setCodeFromGraph:h}}const Co=(e,t)=>{const n=e.slice(t.length),o=Number.parseInt(n,10);return Number.isFinite(o)?o:0},vn=e=>{const t=e.__dynamicInputOptions;if(!t)throw new Error("Dynamic input options not attached.");return t},ni=e=>{const t=vn(e);return Object.keys(e.inputs).filter(n=>n.startsWith(t.baseKey))},ea=e=>{const t=vn(e);return ni(e).sort((n,o)=>Co(n,t.baseKey)-Co(o,t.baseKey))},bh=e=>{const t=vn(e),n=ni(e).map(s=>Co(s,t.baseKey));let o=1;for(;n.includes(o);)o+=1;return o},Jo=(e,t)=>{const n=vn(e),o=t??bh(e),s=`${n.baseKey}${o}`;if(e.inputs[s])return;const i=`${n.labelPrefix} ${s}`,r=n.createInput(o,s,i);r.__section="input",e.addInput(s,r),e.__dynamicInputsVersion=(e.__dynamicInputsVersion??0)+1},_h=e=>{const t=vn(e),n=ea(e);if(n.length<=t.minCount)return;const o=n[n.length-1];e.removeInput(o),e.__dynamicInputsVersion=(e.__dynamicInputsVersion??0)+1},wh=e=>ea(e),xh=(e,t)=>{const n=ni(e).length;for(let o=n+1;o<=t;o+=1)Jo(e,o)},Ch=(e,t)=>{const n=vn(e),o=t?.inputs||{};Object.keys(o).filter(s=>s.startsWith(n.baseKey)).forEach(s=>{if(!e.inputs[s]){const i=Co(s,n.baseKey);Jo(e,i||void 0)}})},or=(e,t)=>{e.__dynamicInputOptions||(e.__dynamicInputOptions=t),e.hooks?.beforeLoad?.subscribe("dynamicInputs",n=>(Ch(e,n),n)),xh(e,t.initialCount??t.minCount)},Th={class:"dynamic-inputs"},Ih={class:"dynamic-title"},Sh=de({__name:"DynamicInputsControl",props:{node:{},intf:{},modelValue:{}},setup(e){const t=e,n=Xt("triggerDynamicInputsUpdate"),o=V(()=>{try{return wh(t.node).length}catch{return 0}}),s=()=>{Jo(t.node),n?.()},i=()=>{_h(t.node),n?.()};return(r,l)=>(I(),R("div",Th,[T("div",Ih,re(e.intf?.name??"")+" ("+re(o.value)+")",1),T("div",{class:"dynamic-actions"},[T("button",{class:"dynamic-btn",type:"button",onClick:s},"+ "),T("button",{class:"dynamic-btn",type:"button",onClick:i},"- ")])]))}}),Mh=Qt(Sh,[["__scopeId","data-v-9d24935a"]]),Eh={key:0,class:"interface-field"},Nh={class:"interface-label"},kh=["value"],$h=de({__name:"InterfaceTextInput",props:{modelValue:{},intf:{},node:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,s=r=>{const l=r.target;o("update:modelValue",l?.value??"")},i=V(()=>{const r=n.intf.__showWhen;if(!r||!n.node?.inputs)return!0;const l=n.node.inputs[r.typeKey]?.value??"";return r.values.includes(l)});return(r,l)=>i.value?(I(),R("div",Eh,[T("div",Nh,re(n.intf?.name??""),1),T("input",{class:"interface-input",value:n.modelValue,onInput:s},null,40,kh)])):Ce("",!0)}}),sr=Qt($h,[["__scopeId","data-v-ae9ac95d"]]),Oh={class:"light-control"},Ah={class:"light-title"},Rh={class:"field"},Ph={class:"fields"},Dh=["value","onInput"],Lh=["value","onInput"],Bh=["value","onInput"],Hh=["value","onInput"],Fh=de({__name:"LightTypeControl",props:{node:{},intf:{},modelValue:{}},setup(e){const t=e,n=(u,c="")=>t.node.inputs?.[u]?.value??c,o=(u,c)=>{const f=t.node.inputs?.[u];f&&(f.value=c)},s=V({get:()=>n("lightType","distant"),set:u=>o("lightType",u)}),i=[{key:"lightingColor",label:" lighting-color"},{key:"surfaceScale",label:" surfaceScale"},{key:"kernelUnitLength",label:" kernelUnitLength"}],r=[{key:"azimuth",label:" azimuth"},{key:"elevation",label:" elevation"}],l=[{key:"x",label:" x"},{key:"y",label:" y"},{key:"z",label:" z"}],a=[{key:"x",label:" x"},{key:"y",label:" y"},{key:"z",label:" z"},{key:"pointsAtX",label:" pointsAtX"},{key:"pointsAtY",label:" pointsAtY"},{key:"pointsAtZ",label:" pointsAtZ"},{key:"limitingConeAngle",label:" limitingConeAngle"}];return(u,c)=>(I(),R("div",Oh,[T("div",Ah,re(e.intf?.name??""),1),T("label",Rh,[c[2]||(c[2]=T("span",null," lightType",-1)),Dt(T("select",{"onUpdate:modelValue":c[0]||(c[0]=f=>s.value=f)},[...c[1]||(c[1]=[T("option",{value:"distant"},"feDistantLight",-1),T("option",{value:"point"},"fePointLight",-1),T("option",{value:"spot"},"feSpotLight",-1)])],512),[[Au,s.value]])]),T("div",Ph,[(I(),R(J,null,be(i,f=>T("label",{key:f.key,class:"field"},[T("span",null,re(f.label),1),T("input",{value:n(f.key),onInput:d=>o(f.key,d.target.value)},null,40,Dh)])),64)),s.value==="distant"?(I(),R(J,{key:0},be(r,f=>T("label",{key:f.key,class:"field"},[T("span",null,re(f.label),1),T("input",{value:n(f.key),onInput:d=>o(f.key,d.target.value)},null,40,Lh)])),64)):s.value==="point"?(I(),R(J,{key:1},be(l,f=>T("label",{key:f.key,class:"field"},[T("span",null,re(f.label),1),T("input",{value:n(f.key),onInput:d=>o(f.key,d.target.value)},null,40,Bh)])),64)):(I(),R(J,{key:2},be(a,f=>T("label",{key:f.key,class:"field"},[T("span",null,re(f.label),1),T("input",{value:n(f.key),onInput:d=>o(f.key,d.target.value)},null,40,Hh)])),64))])]))}}),Gh=Qt(Fh,[["__scopeId","data-v-5890b86a"]]),Vh={class:"node-description"},Uh=de({__name:"NodeDescription",props:{modelValue:{}},setup(e){return(t,n)=>(I(),R("div",Vh,re(e.modelValue),1))}}),jh=Qt(Uh,[["__scopeId","data-v-326014c3"]]),Wh={class:"group-divider"},zh={class:"label"},Kh=de({__name:"GroupDivider",props:{intf:{},modelValue:{}},setup(e){return(t,n)=>(I(),R("div",Wh,[n[0]||(n[0]=T("div",{class:"line"},null,-1)),T("div",zh,re(e.intf?.name??""),1),n[1]||(n[1]=T("div",{class:"line"},null,-1))]))}}),Yh=Qt(Kh,[["__scopeId","data-v-22a618d1"]]),Xh={class:"image-picker"},qh={class:"image-title"},Zh={class:"image-actions"},Jh={class:"image-button"},Qh={key:0,class:"image-file"},eg=de({__name:"ImageFilePicker",props:{node:{},intf:{},modelValue:{}},setup(e){const t=e,n=W(""),o=W(!1),s=W(null),i=(a,u)=>{const c=t.node.inputs?.[a];c&&(c.value=u)},r=a=>{const c=a.target?.files?.[0];if(!c)return;n.value=c.name,o.value=!0;const f=new FileReader;f.onload=()=>{const d=typeof f.result=="string"?f.result:"";i("href",d),i("xlinkHref",d),o.value=!1},f.onerror=()=>{o.value=!1},f.readAsDataURL(c)},l=()=>{i("href",""),i("xlinkHref",""),n.value="",s.value&&(s.value.value="")};return(a,u)=>(I(),R("div",Xh,[T("div",qh,re(e.intf?.name??""),1),T("div",Zh,[T("label",Jh,[T("input",{ref_key:"fileInput",ref:s,type:"file",accept:"image/*",onChange:r},null,544),zo(" "+re(o.value?"...":""),1)]),T("button",{type:"button",class:"image-button --secondary",onClick:l},"  ")]),n.value?(I(),R("div",Qh,re(n.value),1)):Ce("",!0)]))}}),tg=Qt(eg,[["__scopeId","data-v-5d78217c"]]),ng=({textPort:e,textAttr:t})=>({type:"feGaussianBlur",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),stdDeviation:()=>t(" stdDeviation","4")}}),og=({textPort:e,textAttr:t,selectAttr:n})=>({type:"feColorMatrix",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),type:()=>n(" type","matrix",["matrix","saturate","hueRotate","luminanceToAlpha"]),values:()=>t(" values20","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0")}}),ve=(e,t,n)=>(e.__showWhen={typeKey:t,values:n},e),sg=({textPort:e,textAttr:t,selectAttr:n,groupDivider:o})=>({type:"feComponentTransfer",title:"",description:" RGBA //",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),__groupR:()=>o("R "),funcRType:()=>n("R  funcR type","linear",["identity","table","discrete","linear","gamma"]),funcRTableValues:()=>ve(t("R tableValues",""),"funcRType",["table","discrete"]),funcRSlope:()=>ve(t("R slope","1"),"funcRType",["linear"]),funcRIntercept:()=>ve(t("R intercept","0"),"funcRType",["linear"]),funcRAmplitude:()=>ve(t("R amplitude","1"),"funcRType",["gamma"]),funcRExponent:()=>ve(t("R exponent","1"),"funcRType",["gamma"]),funcROffset:()=>ve(t("R offset","0"),"funcRType",["gamma"]),__groupG:()=>o("G "),funcGType:()=>n("G  funcG type","linear",["identity","table","discrete","linear","gamma"]),funcGTableValues:()=>ve(t("G tableValues",""),"funcGType",["table","discrete"]),funcGSlope:()=>ve(t("G slope","1"),"funcGType",["linear"]),funcGIntercept:()=>ve(t("G intercept","0"),"funcGType",["linear"]),funcGAmplitude:()=>ve(t("G amplitude","1"),"funcGType",["gamma"]),funcGExponent:()=>ve(t("G exponent","1"),"funcGType",["gamma"]),funcGOffset:()=>ve(t("G offset","0"),"funcGType",["gamma"]),__groupB:()=>o("B "),funcBType:()=>n("B  funcB type","linear",["identity","table","discrete","linear","gamma"]),funcBTableValues:()=>ve(t("B tableValues",""),"funcBType",["table","discrete"]),funcBSlope:()=>ve(t("B slope","1"),"funcBType",["linear"]),funcBIntercept:()=>ve(t("B intercept","0"),"funcBType",["linear"]),funcBAmplitude:()=>ve(t("B amplitude","1"),"funcBType",["gamma"]),funcBExponent:()=>ve(t("B exponent","1"),"funcBType",["gamma"]),funcBOffset:()=>ve(t("B offset","0"),"funcBType",["gamma"]),__groupA:()=>o("A "),funcAType:()=>n("A  funcA type","linear",["identity","table","discrete","linear","gamma"]),funcATableValues:()=>ve(t("A tableValues",""),"funcAType",["table","discrete"]),funcASlope:()=>ve(t("A slope","1"),"funcAType",["linear"]),funcAIntercept:()=>ve(t("A intercept","0"),"funcAType",["linear"]),funcAAmplitude:()=>ve(t("A amplitude","1"),"funcAType",["gamma"]),funcAExponent:()=>ve(t("A exponent","1"),"funcAType",["gamma"]),funcAOffset:()=>ve(t("A offset","0"),"funcAType",["gamma"])},onCreate(s){s.width=320}}),ig=({textPort:e,textAttr:t})=>({type:"feOffset",title:"",description:" x/y ",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),dx:()=>t(" dx","10"),dy:()=>t(" dy","10")}}),rg=({textPort:e,selectAttr:t})=>({type:"feBlend",title:"",description:"",inputs:{in:()=>e(" in","SourceGraphic"),in2:()=>e(" in2","SourceGraphic"),mode:()=>t(" mode","multiply",["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"])}}),lg=({textPort:e,textAttr:t,selectAttr:n})=>({type:"feComposite",title:"",description:"",inputs:{in:()=>e(" in","SourceGraphic"),in2:()=>e(" in2","SourceGraphic"),operator:()=>n(" operator","over",["over","in","out","atop","xor","arithmetic"]),k1:()=>t("k1 arithmetic","0"),k2:()=>t("k2 arithmetic","0"),k3:()=>t("k3 arithmetic","0"),k4:()=>t("k4 arithmetic","0")}}),ag=({textPort:e,textAttr:t,selectAttr:n})=>({type:"feConvolveMatrix",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),order:()=>t(" order","3 3"),kernelMatrix:()=>t(" kernelMatrix","0 -1 0 -1 5 -1 0 -1 0"),divisor:()=>t(" divisor",""),bias:()=>t(" bias","0"),targetX:()=>t(" X targetX",""),targetY:()=>t(" Y targetY",""),edgeMode:()=>n(" edgeMode","duplicate",["duplicate","wrap","none"]),kernelUnitLength:()=>t(" kernelUnitLength",""),preserveAlpha:()=>n(" preserveAlpha","false",["true","false"])}}),cg=({textPort:e,textAttr:t,selectAttr:n,lightControl:o})=>({type:"feDiffuseLighting",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),lightingColor:()=>t(" lighting-color","#ffffff").setHidden(!0),surfaceScale:()=>t(" surfaceScale","1").setHidden(!0),diffuseConstant:()=>t(" diffuseConstant","1").setHidden(!0),kernelUnitLength:()=>t(" kernelUnitLength","").setHidden(!0),lightType:()=>n(" lightType","distant",["distant","point","spot"]).setHidden(!0),azimuth:()=>t(" azimuth","45").setHidden(!0),elevation:()=>t(" elevation","60").setHidden(!0),x:()=>t(" x","0").setHidden(!0),y:()=>t(" y","0").setHidden(!0),z:()=>t(" z","10").setHidden(!0),pointsAtX:()=>t(" pointsAtX","0").setHidden(!0),pointsAtY:()=>t(" pointsAtY","0").setHidden(!0),pointsAtZ:()=>t(" pointsAtZ","0").setHidden(!0),limitingConeAngle:()=>t(" limitingConeAngle","30").setHidden(!0),__light:()=>o("")}}),ug=({textPort:e,textAttr:t,selectAttr:n})=>({type:"feDisplacementMap",title:"",description:"",inputs:{in:()=>e(" in","SourceGraphic"),in2:()=>e(" in2","SourceGraphic"),scale:()=>t(" scale","20"),xChannelSelector:()=>n("X  xChannelSelector","R",["R","G","B","A"]),yChannelSelector:()=>n("Y  yChannelSelector","G",["R","G","B","A"])}}),fg=({textPort:e,textAttr:t})=>({type:"feDropShadow",title:"",description:" + ",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),dx:()=>t(" dx","0"),dy:()=>t(" dy","4"),stdDeviation:()=>t(" stdDeviation","4"),"flood-color":()=>t(" flood-color","#000000"),"flood-opacity":()=>t(" flood-opacity","0.5")}}),dg=({textAttr:e})=>({type:"feFlood",title:"",description:"",inputs:{"flood-color":()=>e(" flood-color","#ffffff"),"flood-opacity":()=>e(" flood-opacity","1")}}),pg=({textAttr:e,selectAttr:t,imagePicker:n})=>({type:"feImage",title:"",description:" SVG ",inputs:{__picker:()=>n(""),href:()=>e(" href",""),xlinkHref:()=>e(" xlink:href",""),x:()=>e("x","0"),y:()=>e("y","0"),width:()=>e("width",""),height:()=>e("height",""),preserveAspectRatio:()=>t("preserveAspectRatio","xMidYMid meet",["none","xMinYMin meet","xMidYMin meet","xMaxYMin meet","xMinYMid meet","xMidYMid meet","xMaxYMid meet","xMinYMax meet","xMidYMax meet","xMaxYMax meet","xMinYMin slice","xMidYMin slice","xMaxYMin slice","xMinYMid slice","xMidYMid slice","xMaxYMid slice","xMinYMax slice","xMidYMax slice","xMaxYMax slice"]),crossOrigin:()=>t("crossorigin","anonymous",["anonymous","use-credentials",""])}}),hg=({textPort:e,textControl:t})=>({type:"feMerge",title:"",description:"",inputs:{__controls:()=>t("")},onCreate(n){or(n,{baseKey:"in",labelPrefix:"",minCount:1,initialCount:2,createInput:(o,s,i)=>e(i,o===1?"SourceGraphic":"")})},onPlaced(n){or(n,{baseKey:"in",labelPrefix:"",minCount:1,initialCount:2,createInput:(o,s,i)=>e(i,o===1?"SourceGraphic":"")})}}),gg=({textPort:e,textAttr:t,selectAttr:n})=>({type:"feMorphology",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),operator:()=>n(" operator","erode",["erode","dilate"]),radius:()=>t(" radius","2 2")}}),mg=({textPort:e,textAttr:t,selectAttr:n,lightControl:o})=>({type:"feSpecularLighting",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic"),lightingColor:()=>t(" lighting-color","#ffffff").setHidden(!0),surfaceScale:()=>t(" surfaceScale","1").setHidden(!0),specularConstant:()=>t(" specularConstant","1").setHidden(!0),specularExponent:()=>t(" specularExponent","20").setHidden(!0),kernelUnitLength:()=>t(" kernelUnitLength","").setHidden(!0),lightType:()=>n(" lightType","distant",["distant","point","spot"]).setHidden(!0),azimuth:()=>t(" azimuth","45").setHidden(!0),elevation:()=>t(" elevation","60").setHidden(!0),x:()=>t(" x","0").setHidden(!0),y:()=>t(" y","0").setHidden(!0),z:()=>t(" z","10").setHidden(!0),pointsAtX:()=>t(" pointsAtX","0").setHidden(!0),pointsAtY:()=>t(" pointsAtY","0").setHidden(!0),pointsAtZ:()=>t(" pointsAtZ","0").setHidden(!0),limitingConeAngle:()=>t(" limitingConeAngle","30").setHidden(!0),__light:()=>o("")}}),vg=({textPort:e})=>({type:"feTile",title:"",description:"",inputs:{in:()=>e(" in SourceGraphic","SourceGraphic")}}),yg=({textAttr:e,selectAttr:t})=>({type:"feTurbulence",title:"",description:"",inputs:{type:()=>t(" type","turbulence",["turbulence","fractalNoise"]),baseFrequency:()=>e(" baseFrequency","0.02"),numOctaves:()=>e(" numOctaves","1"),seed:()=>e(" seed","1"),stitchTiles:()=>t(" stitchTiles","noStitch",["noStitch","stitch"])}}),bg=[ng,og,sg,ig,rg,lg,ag,cg,ug,fg,dg,pg,hg,gg,mg,vg,yg];function _g(){const e=Kp(),t=(g,y)=>new xo(g,y).setComponent(xe(sr)).setPort(!0),n=(g,y)=>new xo(g,y).setComponent(xe(sr)).setPort(!1),o=(g,y,b)=>new Sd(g,y,b).setPort(!1),s=g=>new Tn(g,"").setComponent(xe(Mh)).setPort(!1),i=g=>new Tn(g,"").setComponent(xe(Gh)).setPort(!1),r=g=>new Tn(g,"").setComponent(xe(Yh)).setPort(!1),l=g=>new Tn(g,"").setComponent(xe(tg)).setPort(!1),a=g=>new Tn("",g).setComponent(xe(jh)).setPort(!1),u={textPort:t,textAttr:n,selectAttr:o,textInfo:a,textControl:s,lightControl:i,groupDivider:r,imagePicker:l},c=g=>g==="in"||g==="in2"||/^in\d+$/.test(g)||g==="__controls",f=g=>{const y=(O,j,A)=>()=>{const _=A();return _.__section=O,j.startsWith("__group")&&(_.__isGroup=!0),_},b=O=>{const j=[],A=[],_=[];Object.entries(O).forEach(([L,C])=>{if(L==="__desc"){_.push([L,y("desc",L,C)]);return}if(c(L)){j.push([L,y("input",L,C)]);return}A.push([L,y("attr",L,C)])});const P={};return j.length&&(P.__groupInput=y("input","__groupInput",()=>r("")),j.forEach(([L,C])=>{P[L]=C})),A.length&&(P.__groupAttrs=y("attr","__groupAttrs",()=>r("")),A.forEach(([L,C])=>{P[L]=C})),_.length&&(P.__groupDesc=y("desc","__groupDesc",()=>r("")),_.forEach(([L,C])=>{P[L]=C})),P},w=O=>{const j=(_,P)=>()=>{const L=P();return L.__section="output",_.startsWith("__group")&&(L.__isGroup=!0),L},A={};return A.__groupOutputs=j("__groupOutputs",()=>r("")),Object.entries(O).forEach(([_,P])=>{A[_]=j(_,P)}),A},S={...g.inputs,__desc:()=>a(g.description)},M=g.outputs??{result:()=>t(" result","")},H=`${g.type}
${g.title}`;return qu({type:g.type,title:H,inputs:b(S),outputs:w(M),onCreate(){g.onCreate?.(this)},onPlaced(){g.onPlaced?.(this)}})},d=bg.map(g=>g(u));return d.sort((g,y)=>g.type.localeCompare(y.type)),d.map(g=>f(g)).forEach(g=>e.editor.registerNodeType(g)),{baklava:e,getNodeCtor:g=>e.editor.nodeTypes.get(g)?.type}}const ta="svgfilter-editor";function wg(){try{const e=localStorage.getItem(ta);return e?JSON.parse(e):null}catch{return null}}function io(e){try{const t=e.save();localStorage.setItem(ta,JSON.stringify(t))}catch{}}function ir(e){const t=e.graph;Array.from(t.nodes).forEach(o=>t.removeNode(o)),io(e)}function xg(e){const t=Array.from(e.nodes),n=Array.from(e.connections),o=new Map(t.map(c=>[c.id,c])),s=new Map,i=new Map;t.forEach(c=>{Object.values(c.outputs||{}).forEach(f=>{f&&s.set(f.id,c.id)})}),n.forEach(c=>{i.set(c.to.id,c.from.id)});const r=new Map,l=new Map;t.forEach(c=>{r.set(c.id,new Set),l.set(c.id,new Set)}),n.forEach(c=>{const f=c.from.nodeId,d=c.to.nodeId;(r.get(d)??new Set).add(f),(l.get(f)??new Set).add(d)});const a=[];r.forEach((c,f)=>{c.size===0&&a.push(f)});const u=[];for(;a.length;){const c=a.shift(),f=o.get(c);f&&u.push(f),(l.get(c)??new Set).forEach(d=>{const m=r.get(d);m&&(m.delete(c),m.size===0&&a.push(d))})}return u.length!==t.length&&t.forEach(c=>{u.includes(c)||u.push(c)}),{orderedNodes:u.filter(Boolean),inputConnections:i,outputInterfaceToNode:s}}const Nt=e=>e.filter(([,t])=>t!==""&&t!==void 0&&t!==null).map(([t,n])=>`${t}="${n}"`).join(" "),he=(e,t)=>{const n=e.inputs?.[t]?.value;return n!=null?String(n).trim():""};function Cg(e){const{orderedNodes:t,inputConnections:n,outputInterfaceToNode:o}=xg(e),s=new Map;t.forEach(a=>{if(!a)return;const u=a.outputs?.result?.value?.trim();s.set(a.id,u||`result_${a.id.replace(/-/g,"").slice(0,6)}`)});const i=a=>{if(!a)return"";const u=n.get(a.id);if(u){const c=o.get(u);if(c)return s.get(c)||""}return a.value?.trim()||""},r=a=>{const u=he(a,"lightType").toLowerCase();return u==="point"?`<fePointLight ${Nt([["x",he(a,"x")],["y",he(a,"y")],["z",he(a,"z")]])} />`:u==="spot"?`<feSpotLight ${Nt([["x",he(a,"x")],["y",he(a,"y")],["z",he(a,"z")],["pointsAtX",he(a,"pointsAtX")],["pointsAtY",he(a,"pointsAtY")],["pointsAtZ",he(a,"pointsAtZ")],["limitingConeAngle",he(a,"limitingConeAngle")]])} />`:`<feDistantLight ${Nt([["azimuth",he(a,"azimuth")],["elevation",he(a,"elevation")]])} />`};return t.map(a=>{if(!a)return"";const u=a.type;if(u==="feComponentTransfer"){const d=[],m=i(a.inputs?.in);m&&d.push(["in",m]),d.push(["result",s.get(a.id)||""]);const h=Nt(d),g=(w,S)=>{const M=[["type",he(a,`${S}Type`)],["tableValues",he(a,`${S}TableValues`)],["slope",he(a,`${S}Slope`)],["intercept",he(a,`${S}Intercept`)],["amplitude",he(a,`${S}Amplitude`)],["exponent",he(a,`${S}Exponent`)],["offset",he(a,`${S}Offset`)]];if(M.every(([,O])=>!O))return"";const H=Nt(M);return H?`<${w} ${H} />`:`<${w} />`},y=["funcR","funcG","funcB","funcA"],b=["feFuncR","feFuncG","feFuncB","feFuncA"].map((w,S)=>g(w,y[S])).filter(w=>!!w);return b.length===0?h?`<feComponentTransfer ${h} />`:"<feComponentTransfer />":`<feComponentTransfer ${h}>
  ${b.join(`
  `)}
</feComponentTransfer>`}if(u==="feDiffuseLighting"||u==="feSpecularLighting"){const d=[],m=i(a.inputs?.in);return m&&d.push(["in",m]),d.push(["lighting-color",he(a,"lightingColor")]),d.push(["surfaceScale",he(a,"surfaceScale")]),d.push(["kernelUnitLength",he(a,"kernelUnitLength")]),u==="feDiffuseLighting"?d.push(["diffuseConstant",he(a,"diffuseConstant")]):(d.push(["specularConstant",he(a,"specularConstant")]),d.push(["specularExponent",he(a,"specularExponent")])),d.push(["result",s.get(a.id)||""]),`<${u} ${Nt(d)}>
  ${r(a)}
</${u}>`}if(u==="feMerge"){const m=Object.keys(a.inputs||{}).filter(y=>/^in\d+$/.test(y)).sort((y,b)=>Number(y.slice(2))-Number(b.slice(2))).map(y=>i(a.inputs?.[y])).filter(Boolean),h=Nt([["result",s.get(a.id)||""]]),g=m.map(y=>`  <feMergeNode in="${y}" />`).join(`
`);return`<feMerge ${h}>
${g}
</feMerge>`}const c=[];a.inputs?.in&&c.push(["in",i(a.inputs.in)]),a.inputs?.in2&&c.push(["in2",i(a.inputs.in2)]),Object.entries(a.inputs||{}).forEach(([d,m])=>{d==="in"||d==="in2"||d.startsWith("__")||c.push([d,m.value?.trim()||""])}),c.push(["result",s.get(a.id)||""]);const f=Nt(c);return f?`<${u} ${f} />`:`<${u} />`}).filter(Boolean).join(`
`)}const na=new Set(["feblend","fecolormatrix","fecomponenttransfer","fecomposite","feconvolvematrix","fediffuselighting","fedisplacementmap","fedropshadow","feflood","fegaussianblur","feimage","femerge","femorphology","feoffset","fespecularlighting","fetile","feturbulence"]);function Tg(e){return Array.from(e.children).filter(t=>t.tagName&&na.has(t.tagName.toLowerCase()))}function oa(e){const t={};for(const n of Array.from(e.attributes))t[n.name.toLowerCase()]=n.value;return t}const Ig={stddeviation:"stdDeviation",kernelunitlength:"kernelUnitLength",surfacescale:"surfaceScale",diffuseconstant:"diffuseConstant",specularconstant:"specularConstant",specularexponent:"specularExponent","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",tablevalues:"tableValues",kernelmatrix:"kernelMatrix",order:"order",preservealpha:"preserveAlpha",edgemode:"edgeMode",divisor:"divisor",bias:"bias",targetx:"targetX",targety:"targetY",scale:"scale",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector","flood-color":"flood-color","flood-opacity":"flood-opacity"};function sa(e){const t=e.toLowerCase();return Ig[t]??t.replace(/-([a-z])/g,(n,o)=>o.toUpperCase())}function Sg(e){const t=oa(e);return{type:t.type,tableValues:t.tablevalues,slope:t.slope,intercept:t.intercept,amplitude:t.amplitude,exponent:t.exponent,offset:t.offset}}function Mg(e){const t=e.tagName.toLowerCase();if(t==="fepointlight"||t==="fespotlight"||t==="fedistantlight"){const n={};for(const o of Array.from(e.attributes))n[sa(o.name)]=o.value;return{tag:t,attrs:n}}}function Eg(e){const t=e.tagName.toLowerCase();if(!na.has(t))return null;const n=oa(e),o=n.in,s=n.in2,i=n.result,r={};for(const[a,u]of Object.entries(n))a==="in"||a==="in2"||a==="result"||(r[sa(a)]=u);const l={tag:t,result:i,in:o,in2:s,attrs:r};if(t==="femerge"){const a=Array.from(e.children).filter(u=>u.tagName&&u.tagName.toLowerCase()==="femergenode");l.mergeIns=a.map(u=>(u.getAttribute("in")||"").trim()).filter(Boolean)}else if(t==="fecomponenttransfer")for(const a of Array.from(e.children)){const u=a.tagName.toLowerCase(),c=Sg(a);u==="funcr"?l.funcR=c:u==="funcg"?l.funcG=c:u==="funcb"?l.funcB=c:u==="funca"&&(l.funcA=c)}else if(t==="fediffuselighting"||t==="fespecularlighting")for(const a of Array.from(e.children)){const u=Mg(a);if(u){l.light=u;break}}return l}function Ng(e){const t=e.trim(),n=t.startsWith("<filter")?t:`<filter id="__parse">${t}</filter>`,i=new DOMParser().parseFromString(n,"image/svg+xml").querySelector("filter");if(!i)return[];const r=Tg(i),l=[];for(const a of r){const u=Eg(a);u&&l.push(u)}return l}function kg(e){const t={...e.attrs};if(e.funcR&&(e.funcR.type&&(t.funcRType=e.funcR.type),e.funcR.tableValues!=null&&(t.funcRTableValues=e.funcR.tableValues),e.funcR.slope!=null&&(t.funcRSlope=e.funcR.slope),e.funcR.intercept!=null&&(t.funcRIntercept=e.funcR.intercept),e.funcR.amplitude!=null&&(t.funcRAmplitude=e.funcR.amplitude),e.funcR.exponent!=null&&(t.funcRExponent=e.funcR.exponent),e.funcR.offset!=null&&(t.funcROffset=e.funcR.offset)),e.funcG&&(e.funcG.type&&(t.funcGType=e.funcG.type),e.funcG.tableValues!=null&&(t.funcGTableValues=e.funcG.tableValues),e.funcG.slope!=null&&(t.funcGSlope=e.funcG.slope),e.funcG.intercept!=null&&(t.funcGIntercept=e.funcG.intercept),e.funcG.amplitude!=null&&(t.funcGAmplitude=e.funcG.amplitude),e.funcG.exponent!=null&&(t.funcGExponent=e.funcG.exponent),e.funcG.offset!=null&&(t.funcGOffset=e.funcG.offset)),e.funcB&&(e.funcB.type&&(t.funcBType=e.funcB.type),e.funcB.tableValues!=null&&(t.funcBTableValues=e.funcB.tableValues),e.funcB.slope!=null&&(t.funcBSlope=e.funcB.slope),e.funcB.intercept!=null&&(t.funcBIntercept=e.funcB.intercept),e.funcB.amplitude!=null&&(t.funcBAmplitude=e.funcB.amplitude),e.funcB.exponent!=null&&(t.funcBExponent=e.funcB.exponent),e.funcB.offset!=null&&(t.funcBOffset=e.funcB.offset)),e.funcA&&(e.funcA.type&&(t.funcAType=e.funcA.type),e.funcA.tableValues!=null&&(t.funcATableValues=e.funcA.tableValues),e.funcA.slope!=null&&(t.funcASlope=e.funcA.slope),e.funcA.intercept!=null&&(t.funcAIntercept=e.funcA.intercept),e.funcA.amplitude!=null&&(t.funcAAmplitude=e.funcA.amplitude),e.funcA.exponent!=null&&(t.funcAExponent=e.funcA.exponent),e.funcA.offset!=null&&(t.funcAOffset=e.funcA.offset)),e.light){const{tag:n,attrs:o}=e.light,s=typeof n=="string"?n.toLowerCase():"",i=s==="fepointlight"?"point":s==="fespotlight"?"spot":"distant";t.lightType=i,Object.assign(t,o)}return t}const $g={feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedropshadow:"feDropShadow",feflood:"feFlood",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femorphology:"feMorphology",feoffset:"feOffset",fespecularlighting:"feSpecularLighting",fetile:"feTile",feturbulence:"feTurbulence"};function Og(e){const t=e.toLowerCase();return $g[t]??"fe"+e.slice(2,3).toUpperCase()+e.slice(3).toLowerCase()}function Ut(e,t,n){const o=e.inputs?.[t];o&&typeof o.value<"u"&&(o.value=n)}function Ag(e,t){const{graph:n,getNodeCtor:o,clearGraph:s,saveState:i}=t;let r;try{r=Ng(e)}catch(c){return console.error("[svgfilter]  filter ",c),{success:!1,error:" SVG filter "}}if(r.length===0)return{success:!1,error:" fe* "};s();const l=new Map,a=[],u=240;for(let c=0;c<r.length;c++){const f=r[c],d=Og(f.tag),m=o(d);if(!m){console.warn("[svgfilter] :",d);continue}const h=new m;h.position={x:c*u,y:0};const g=kg(f);for(const[y,b]of Object.entries(g))b!==""&&Ut(h,y,b);if(f.tag==="femerge"&&f.mergeIns&&f.mergeIns.length>0)for(let y=3;y<=f.mergeIns.length;y++)Jo(h,y);if(f.in!==void 0&&f.in!==""&&Ut(h,"in",f.in),f.in2!==void 0&&f.in2!==""&&Ut(h,"in2",f.in2),f.tag==="femerge"&&f.mergeIns){const y=Object.keys(h.inputs||{}).filter(b=>/^in\d+$/.test(b)).sort((b,w)=>Number(b.slice(2))-Number(w.slice(2)));f.mergeIns.forEach((b,w)=>{y[w]&&Ut(h,y[w],b)})}n.addNode(h),a.push(h),f.result&&l.set(f.result,h)}for(let c=0;c<r.length;c++){const f=r[c],d=a[c];if(!d)continue;const m=(h,g)=>{const y=l.get(g);if(!y?.outputs?.result)return;const b=d.inputs?.[h];if(b)try{n.addConnection(y.outputs.result,b)}catch{}};if(f.in&&l.has(f.in)&&(Ut(d,"in",""),m("in",f.in)),f.in2&&l.has(f.in2)&&(Ut(d,"in2",""),m("in2",f.in2)),f.tag==="femerge"&&f.mergeIns){const h=Object.keys(d.inputs||{}).filter(g=>/^in\d+$/.test(g)).sort((g,y)=>Number(g.slice(2))-Number(y.slice(2)));f.mergeIns.forEach((g,y)=>{l.has(g)&&h[y]&&(Ut(d,h[y],""),m(h[y],g))})}}return i(),{success:!0}}const Rg={class:"app"},Pg={class:"pane pane-editor"},Dg={class:"editor-wrap"},Lg={class:"pane pane-preview"},rr="test",Bg=de({__name:"App",setup(e){const{baklava:t,getNodeCtor:n}=_g(),o=W(""),s=wg();if(s&&typeof s=="object"&&s!==null&&"graph"in s){const S=t.editor.load(s);S.length>0&&console.warn("[svgfilter] :",S)}else{const S=n("feGaussianBlur"),M=n("feColorMatrix");if(S&&M){const H=new S,O=new M;t.editor.graph.addNode(H),t.editor.graph.addNode(O);const j=H.outputs?.result,A=O.inputs?.in;j&&A&&t.editor.graph.addConnection(j,A),io(t.editor)}}const i=V(()=>`<filter id="${rr}">
${o.value}
</filter>`),r=()=>i.value,l=()=>io(t.editor),a=W(null),{isCodeReadonly:u,filterCodeText:c,copyCodeFeedback:f,copyCode:d,setCodeFromGraph:m}=yh({getFullCode:r,saveState:l,getEditButton:()=>a.value?.editToggleEl?.value??null});function h(S){c.value=S}const g=()=>{o.value=Cg(t.editor.graph)};g();let y;y=window.setInterval(g,300);function b(){ir(t.editor)}function w(){const S=c.value.trim();if(!S)return;const M=Ag(S,{graph:t.editor.graph,getNodeCtor:n,clearGraph:()=>ir(t.editor),saveState:()=>io(t.editor)});if(!M.success){alert(M.error);return}g(),m(i.value)}return Vo(()=>{y&&window.clearInterval(y)}),(S,M)=>(I(),R("div",Rg,[T("section",Pg,[M[1]||(M[1]=T("div",{class:"pane-title"},"",-1)),T("div",Dg,[te(ee(od),{"view-model":ee(t)},{node:Jt(({node:H,selected:O,dragging:j,onSelect:A,onStartDrag:_})=>[te(oh,{node:H,selected:O,dragging:j,"on-select":A,"on-start-drag":_},null,8,["node","selected","dragging","on-select","on-start-drag"])]),_:1},8,["view-model"])])]),T("section",Lg,[te(ph,{"filter-id":rr,"filter-markup":o.value,"on-clear-editor":b},null,8,["filter-markup"]),te(vh,{ref_key:"filterCodePaneRef",ref:a,"filter-code-text":ee(c),"is-code-readonly":ee(u),"copy-code-feedback":ee(f),"show-apply-button":!ee(u),"onUpdate:filterCodeText":h,onCopy:M[0]||(M[0]=H=>ee(d)(r)),onApply:w},null,8,["filter-code-text","is-code-readonly","copy-code-feedback","show-apply-button"])])]))}});Hu(Bg).mount("#app");
